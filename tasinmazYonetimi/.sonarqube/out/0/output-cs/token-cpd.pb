Ô
VC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\WeatherForecast.cs
	namespace 	
tasinmazYonetimi
 
{ 
public 

class 
WeatherForecast  
{ 
public 
DateOnly 
Date 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
TemperatureC 
{  !
get" %
;% &
set' *
;* +
}, -
public		 
int		 
TemperatureF		 
=>		  "
$num		# %
+		& '
(		( )
int		) ,
)		, -
(		- .
TemperatureC		. :
/		; <
$num		= C
)		C D
;		D E
public 
string 
? 
Summary 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ∏—
_C:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Services\TasinmazService.cs
	namespace

 	
tasinmazYonetimi


 
.

 
Services

 #
{ 
public 

class 
TasinmazService  
:! "
ITasinmazService# 3
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
private 
readonly 
ILogServices %
_logService& 1
;1 2
private 
readonly  
IHttpContextAccessor - 
_httpContextAccessor. B
;B C
public 
TasinmazService 
( 
AppDbContext +
context, 3
,3 4
IMapper5 <
mapper= C
,C D
ILogServicesE Q

logServiceR \
,\ ] 
IHttpContextAccessor] q 
httpContextAccessor	r Ö
)
Ö Ü
{ 	
_context 
= 
context 
; 
_logService 
= 

logService $
;$ % 
_httpContextAccessor  
=! "
httpContextAccessor# 6
;6 7
} 	
private 
Tasinmaz 
DtoToEntity $
($ %
TasinmazDto% 0
dto1 4
)4 5
{ 	
return 
new 
Tasinmaz 
{ 
	mahalleId 
= 
dto 
.  
	mahalleId  )
,) *
adaa 
= 
dto 
. 
adaa 
,  
parsel 
= 
dto 
. 
parsel #
,# $
nitelik 
= 
dto 
. 
nitelik %
,% &
adres   
=   
dto   
.   
adres   !
,  ! "
kullaniciId!! 
=!! 
dto!! !
.!!! "
kullaniciId!!" -
,!!- .
	koordinat"" 
="" 
dto"" 
.""  
	koordinat""  )
}## 
;## 
}$$ 	
private&& 
TasinmazDto&& 
EntityToDto&& '
(&&' (
Tasinmaz&&( 0
entity&&1 7
)&&7 8
{'' 	
return(( 
new(( 
TasinmazDto(( "
{)) 

tasinmazId** 
=** 
entity** #
.**# $

tasinmazId**$ .
,**. /
	mahalleId++ 
=++ 
entity++ "
.++" #
	mahalleId++# ,
,++, -
adaa,, 
=,, 
entity,, 
.,, 
adaa,, "
,,," #
parsel-- 
=-- 
entity-- 
.--  
parsel--  &
,--& '
nitelik.. 
=.. 
entity..  
...  !
nitelik..! (
,..( )
adres// 
=// 
entity// 
.// 
adres// $
,//$ %
	mahalleAd00 
=00 
entity00 "
.00" #
Mahalle00# *
.00* +
	mahalleAd00+ 4
,004 5
ilceAd11 
=11 
entity11 
.11 
Mahalle11 %
.11% &
Ilce11& *
.11* +
ilceAd11+ 1
,111 2
ilAd22 
=22 
entity22 
.22 
Mahalle22 #
.22# $
Ilce22$ (
.22( )
Il22) +
.22+ ,
ilAd22, 0
,220 1
	koordinat33 
=33 
entity33 "
.33" #
	koordinat33# ,
,33, -
kullaniciId44 
=44 
entity44 $
.44$ %
kullaniciId44% 0
??441 3
$num444 5
}55 
;55 
}66 	
public88 
async88 
Task88 
<88 
List88 
<88 
TasinmazDto88 *
>88* +
>88+ ,
GetAllAsync88- 8
(888 9
)889 :
{99 	
try:: 
{;; 
var<< 
entities<< 
=<< 
await<< $
_context<<% -
.<<- .
Tasinmaz<<. 6
.== 
Include== 
(== 
t== 
=>== !
t==" #
.==# $
Mahalle==$ +
)==+ ,
.>> 
ThenInclude>> $
(>>$ %
m>>% &
=>>>' )
m>>* +
.>>+ ,
Ilce>>, 0
)>>0 1
.?? 
ThenInclude?? (
(??( )
i??) *
=>??+ -
i??. /
.??/ 0
Il??0 2
)??2 3
.@@ 
Include@@ 
(@@ 
t@@ 
=>@@ !
t@@" #
.@@# $
	Kullanici@@$ -
)@@- .
.AA 
ToListAsyncAA  
(AA  !
)AA! "
;AA" #
returnCC 
entitiesCC 
.CC  
SelectCC  &
(CC& '
EntityToDtoCC' 2
)CC2 3
.CC3 4
ToListCC4 :
(CC: ;
)CC; <
;CC< =
}DD 
catchEE 
(EE 
	ExceptionEE 
exEE 
)EE  
{FF 
throwGG 
newGG 
	ExceptionGG #
(GG# $
$strGG$ L
,GGL M
exGGN P
)GGP Q
;GGQ R
}HH 
}II 	
publicKK 
asyncKK 
TaskKK 
<KK 
TasinmazDtoKK %
?KK% &
>KK& '
GetByIdAsyncKK( 4
(KK4 5
intKK5 8
idKK9 ;
)KK; <
{LL 	
tryMM 
{NN 
varOO 
entityOO 
=OO 
awaitOO "
_contextOO# +
.OO+ ,
TasinmazOO, 4
.PP 
IncludePP 
(PP 
tPP 
=>PP !
tPP" #
.PP# $
MahallePP$ +
)PP+ ,
.QQ 
ThenIncludeQQ $
(QQ$ %
mQQ% &
=>QQ' )
mQQ* +
.QQ+ ,
IlceQQ, 0
)QQ0 1
.RR 
ThenIncludeRR (
(RR( )
iRR) *
=>RR+ -
iRR. /
.RR/ 0
IlRR0 2
)RR2 3
.SS 
IncludeSS 
(SS 
tSS 
=>SS !
tSS" #
.SS# $
	KullaniciSS$ -
)SS- .
.TT 
FirstOrDefaultAsyncTT (
(TT( )
tTT) *
=>TT+ -
tTT. /
.TT/ 0

tasinmazIdTT0 :
==TT; =
idTT> @
)TT@ A
;TTA B
returnVV 
entityVV 
==VV  
nullVV! %
?VV& '
nullVV( ,
:VV- .
EntityToDtoVV/ :
(VV: ;
entityVV; A
)VVA B
;VVB C
}WW 
catchXX 
(XX 
	ExceptionXX 
exXX 
)XX  
{YY 
throwZZ 
newZZ 
	ExceptionZZ #
(ZZ# $
$strZZ$ O
,ZZO P
exZZQ S
)ZZS T
;ZZT U
}[[ 
}\\ 	
public^^ 
async^^ 
Task^^ 
<^^ 
TasinmazDto^^ %
>^^% &
AddAsync^^' /
(^^/ 0
TasinmazDto^^0 ;
dto^^< ?
)^^? @
{__ 	
try`` 
{aa 
varbb 
entitybb 
=bb 
DtoToEntitybb (
(bb( )
dtobb) ,
)bb, -
;bb- .
awaitcc 
_contextcc 
.cc 
Tasinmazcc '
.cc' (
AddAsynccc( 0
(cc0 1
entitycc1 7
)cc7 8
;cc8 9
awaitdd 
_contextdd 
.dd 
SaveChangesAsyncdd /
(dd/ 0
)dd0 1
;dd1 2
varff 
	newEntityff 
=ff 
awaitff  %
_contextff& .
.ff. /
Tasinmazff/ 7
.gg 
Includegg 
(gg 
tgg 
=>gg !
tgg" #
.gg# $
Mahallegg$ +
)gg+ ,
.gg, -
ThenIncludegg- 8
(gg8 9
mgg9 :
=>gg; =
mgg> ?
.gg? @
Ilcegg@ D
)ggD E
.ggE F
ThenIncludeggF Q
(ggQ R
iggR S
=>ggT V
iggW X
.ggX Y
IlggY [
)gg[ \
.hh 
Includehh 
(hh 
thh 
=>hh !
thh" #
.hh# $
	Kullanicihh$ -
)hh- .
.ii 
FirstOrDefaultAsyncii (
(ii( )
tii) *
=>ii+ -
tii. /
.ii/ 0

tasinmazIdii0 :
==ii; =
entityii> D
.iiD E

tasinmazIdiiE O
)iiO P
;iiP Q
trykk 
{ll 
awaitmm 
_logServicemm %
.mm% &
CreateAsyncmm& 1
(mm1 2
newmm2 5
LogDtomm6 <
{nn 
kullaniciIdoo #
=oo$ %
dtooo& )
.oo) *
kullaniciIdoo* 5
,oo5 6
durumpp 
=pp 
$strpp  *
,pp* +
	islemTipiqq !
=qq" #
$strqq$ 5
,qq5 6
	tarihSaatrr !
=rr" #
DateTimerr$ ,
.rr, -
UtcNowrr- 3
,rr3 4
ipss 
=ss 
GetClientIpss '
(ss' (
)ss( )
,ss) *
aciklamatt  
=tt! "
$"tt# %
$strtt% I
{ttI J
dtottJ M
.ttM N
adresttN S
}ttS T
"ttT U
}uu 
)uu 
;uu 
}vv 
catchww 
{ww 
}ww 
returnyy 
EntityToDtoyy "
(yy" #
	newEntityyy# ,
!yy, -
)yy- .
;yy. /
}zz 
catch{{ 
({{ 
	Exception{{ 
ex{{ 
){{  
{|| 
try}} 
{~~ 
await 
_logService %
.% &
CreateAsync& 1
(1 2
new2 5
LogDto6 <
{
ÄÄ 
kullaniciId
ÅÅ #
=
ÅÅ$ %
dto
ÅÅ& )
.
ÅÅ) *
kullaniciId
ÅÅ* 5
,
ÅÅ5 6
durum
ÇÇ 
=
ÇÇ 
$str
ÇÇ  +
,
ÇÇ+ ,
	islemTipi
ÉÉ !
=
ÉÉ" #
$str
ÉÉ$ 5
,
ÉÉ5 6
	tarihSaat
ÑÑ !
=
ÑÑ" #
DateTime
ÑÑ$ ,
.
ÑÑ, -
UtcNow
ÑÑ- 3
,
ÑÑ3 4
ip
ÖÖ 
=
ÖÖ 
GetClientIp
ÖÖ (
(
ÖÖ( )
)
ÖÖ) *
,
ÖÖ* +
aciklama
ÜÜ  
=
ÜÜ! "
$"
ÜÜ# %
$str
ÜÜ% F
{
ÜÜF G
ex
ÜÜG I
.
ÜÜI J
Message
ÜÜJ Q
}
ÜÜQ R
"
ÜÜR S
}
áá 
)
áá 
;
áá 
}
àà 
catch
ââ 
{
ââ 
}
ââ 
throw
ãã 
new
ãã 
	Exception
ãã #
(
ãã# $
$str
ãã$ F
,
ããF G
ex
ããH J
)
ããJ K
;
ããK L
}
åå 
}
çç 	
public
êê 
async
êê 
Task
êê 
<
êê 
TasinmazDto
êê %
?
êê% &
>
êê& '
UpdateAsync
êê( 3
(
êê3 4
int
êê4 7
id
êê8 :
,
êê: ;
TasinmazDto
êê< G
dto
êêH K
)
êêK L
{
ëë 	
var
íí 
girisYapanAd
íí 
=
íí 
await
íí $
_context
íí% -
.
íí- .
Log
íí. 1
.
ìì 
Where
ìì 
(
ìì 
l
ìì 
=>
ìì 
l
ìì 
.
ìì 
	islemTipi
ìì '
==
ìì( *
$str
ìì+ 2
)
ìì2 3
.
îî 
OrderByDescending
îî "
(
îî" #
l
îî# $
=>
îî% '
l
îî( )
.
îî) *
	tarihSaat
îî* 3
)
îî3 4
.
ïï !
FirstOrDefaultAsync
ïï $
(
ïï$ %
)
ïï% &
;
ïï& '
try
ññ 
{
óó 
var
òò 
entity
òò 
=
òò 
await
òò "
_context
òò# +
.
òò+ ,
Tasinmaz
òò, 4
.
òò4 5
	FindAsync
òò5 >
(
òò> ?
id
òò? A
)
òòA B
;
òòB C
if
ôô 
(
ôô 
entity
ôô 
==
ôô 
null
ôô "
)
ôô" #
return
ôô$ *
null
ôô+ /
;
ôô/ 0
entity
õõ 
.
õõ 
	mahalleId
õõ  
=
õõ! "
dto
õõ# &
.
õõ& '
	mahalleId
õõ' 0
;
õõ0 1
entity
úú 
.
úú 
adaa
úú 
=
úú 
dto
úú !
.
úú! "
adaa
úú" &
;
úú& '
entity
ùù 
.
ùù 
parsel
ùù 
=
ùù 
dto
ùù  #
.
ùù# $
parsel
ùù$ *
;
ùù* +
entity
ûû 
.
ûû 
nitelik
ûû 
=
ûû  
dto
ûû! $
.
ûû$ %
nitelik
ûû% ,
;
ûû, -
entity
üü 
.
üü 
adres
üü 
=
üü 
dto
üü "
.
üü" #
adres
üü# (
;
üü( )
entity
†† 
.
†† 
kullaniciId
†† "
=
††# $
dto
††% (
.
††( )
kullaniciId
††) 4
;
††4 5
entity
°° 
.
°° 
	koordinat
°°  
=
°°! "
dto
°°# &
.
°°& '
	koordinat
°°' 0
;
°°0 1
_context
££ 
.
££ 
Tasinmaz
££ !
.
££! "
Update
££" (
(
££( )
entity
££) /
)
££/ 0
;
££0 1
await
§§ 
_context
§§ 
.
§§ 
SaveChangesAsync
§§ /
(
§§/ 0
)
§§0 1
;
§§1 2
var
¶¶ 
updatedEntity
¶¶ !
=
¶¶" #
await
¶¶$ )
_context
¶¶* 2
.
¶¶2 3
Tasinmaz
¶¶3 ;
.
ßß 
Include
ßß 
(
ßß 
t
ßß 
=>
ßß !
t
ßß" #
.
ßß# $
Mahalle
ßß$ +
)
ßß+ ,
.
ßß, -
ThenInclude
ßß- 8
(
ßß8 9
m
ßß9 :
=>
ßß; =
m
ßß> ?
.
ßß? @
Ilce
ßß@ D
)
ßßD E
.
ßßE F
ThenInclude
ßßF Q
(
ßßQ R
i
ßßR S
=>
ßßT V
i
ßßW X
.
ßßX Y
Il
ßßY [
)
ßß[ \
.
®® 
Include
®® 
(
®® 
t
®® 
=>
®® !
t
®®" #
.
®®# $
	Kullanici
®®$ -
)
®®- .
.
©© !
FirstOrDefaultAsync
©© (
(
©©( )
t
©©) *
=>
©©+ -
t
©©. /
.
©©/ 0

tasinmazId
©©0 :
==
©©; =
entity
©©> D
.
©©D E

tasinmazId
©©E O
)
©©O P
;
©©P Q
try
™™ 
{
´´ 
await
¨¨ 
_logService
¨¨ %
.
¨¨% &
CreateAsync
¨¨& 1
(
¨¨1 2
new
¨¨2 5
LogDto
¨¨6 <
{
≠≠ 
kullaniciId
ÆÆ #
=
ÆÆ$ %
dto
ÆÆ& )
.
ÆÆ) *
kullaniciId
ÆÆ* 5
,
ÆÆ5 6
durum
ØØ 
=
ØØ 
$str
ØØ  *
,
ØØ* +
	islemTipi
∞∞ !
=
∞∞" #
$str
∞∞$ 9
,
∞∞9 :
	tarihSaat
±± !
=
±±" #
DateTime
±±$ ,
.
±±, -
UtcNow
±±- 3
,
±±3 4
ip
≤≤ 
=
≤≤ 
GetClientIp
≤≤ (
(
≤≤( )
)
≤≤) *
,
≤≤* +
aciklama
≥≥  
=
≥≥! "
$"
≥≥# %
$str
≥≥% M
{
≥≥M N
dto
≥≥N Q
.
≥≥Q R
adres
≥≥R W
}
≥≥W X
"
≥≥X Y
}
¥¥ 
)
¥¥ 
;
¥¥ 
}
µµ 
catch
∂∂ 
(
∂∂ 
	Exception
∂∂  
logEx
∂∂! &
)
∂∂& '
{
∂∂( )
Console
∑∑ 
.
∑∑ 
	WriteLine
∑∑ %
(
∑∑% &
$str
∑∑& 0
+
∑∑1 2
logEx
∑∑3 8
)
∑∑8 9
;
∑∑9 :
}
∏∏ 
return
ππ 
EntityToDto
ππ "
(
ππ" #
updatedEntity
ππ# 0
!
ππ0 1
)
ππ1 2
;
ππ2 3
}
∫∫ 
catch
ªª 
(
ªª 
	Exception
ªª 
ex
ªª 
)
ªª  
{
ºº 
try
ΩΩ 
{
ææ 
await
øø 
_logService
øø %
.
øø% &
CreateAsync
øø& 1
(
øø1 2
new
øø2 5
LogDto
øø6 <
{
¿¿ 
kullaniciId
¡¡ #
=
¡¡$ %
dto
¡¡& )
.
¡¡) *
kullaniciId
¡¡* 5
,
¡¡5 6
durum
¬¬ 
=
¬¬ 
$str
¬¬  +
,
¬¬+ ,
	islemTipi
√√ !
=
√√" #
$str
√√$ 9
,
√√9 :
	tarihSaat
ƒƒ !
=
ƒƒ" #
DateTime
ƒƒ$ ,
.
ƒƒ, -
UtcNow
ƒƒ- 3
,
ƒƒ3 4
ip
≈≈ 
=
≈≈ 
GetClientIp
≈≈ (
(
≈≈( )
)
≈≈) *
,
≈≈* +
aciklama
∆∆  
=
∆∆! "
$"
∆∆# %
$str
∆∆% C
{
∆∆C D
ex
∆∆D F
.
∆∆F G
Message
∆∆G N
}
∆∆N O
"
∆∆O P
}
«« 
)
«« 
;
«« 
}
»» 
catch
…… 
{
…… 
}
…… 
throw
   
new
   
	Exception
   #
(
  # $
$str
  $ J
,
  J K
ex
  L N
)
  N O
;
  O P
}
ÀÀ 
}
ÃÃ 	
public
ŒŒ 
async
ŒŒ 
Task
ŒŒ 
<
ŒŒ 
TasinmazDto
ŒŒ %
?
ŒŒ% &
>
ŒŒ& '
DeleteAsync
ŒŒ( 3
(
ŒŒ3 4
int
ŒŒ4 7
id
ŒŒ8 :
,
ŒŒ: ;
TasinmazDto
ŒŒ< G
dto
ŒŒH K
)
ŒŒK L
{
œœ 	
using
–– 
var
–– 
transaction
–– !
=
––" #
await
––$ )
_context
––* 2
.
––2 3
Database
––3 ;
.
––; <#
BeginTransactionAsync
––< Q
(
––Q R
)
––R S
;
––S T
try
—— 
{
““ 
var
”” 
entity
”” 
=
”” 
await
”” "
_context
””# +
.
””+ ,
Tasinmaz
””, 4
.
””4 5
	FindAsync
””5 >
(
””> ?
id
””? A
)
””A B
;
””B C
if
‘‘ 
(
‘‘ 
entity
‘‘ 
==
‘‘ 
null
‘‘ "
)
‘‘" #
return
‘‘$ *
null
‘‘+ /
;
‘‘/ 0
_context
÷÷ 
.
÷÷ 
Tasinmaz
÷÷ !
.
÷÷! "
Remove
÷÷" (
(
÷÷( )
entity
÷÷) /
)
÷÷/ 0
;
÷÷0 1
await
◊◊ 
_context
◊◊ 
.
◊◊ 
SaveChangesAsync
◊◊ /
(
◊◊/ 0
)
◊◊0 1
;
◊◊1 2
await
ÿÿ 
transaction
ÿÿ !
.
ÿÿ! "
CommitAsync
ÿÿ" -
(
ÿÿ- .
)
ÿÿ. /
;
ÿÿ/ 0
try
⁄⁄ 
{
€€ 
await
‹‹ 
_logService
‹‹ %
.
‹‹% &
CreateAsync
‹‹& 1
(
‹‹1 2
new
‹‹2 5
LogDto
‹‹6 <
{
›› 
kullaniciId
ﬁﬁ #
=
ﬁﬁ$ %
dto
ﬁﬁ& )
.
ﬁﬁ) *
kullaniciId
ﬁﬁ* 5
,
ﬁﬁ5 6
durum
ﬂﬂ 
=
ﬂﬂ 
$str
ﬂﬂ  *
,
ﬂﬂ* +
	islemTipi
‡‡ !
=
‡‡" #
$str
‡‡$ 4
,
‡‡4 5
	tarihSaat
·· !
=
··" #
DateTime
··$ ,
.
··, -
UtcNow
··- 3
,
··3 4
ip
‚‚ 
=
‚‚ 
GetClientIp
‚‚ (
(
‚‚( )
)
‚‚) *
,
‚‚* +
aciklama
„„  
=
„„! "
$"
„„# %
$str
„„% I
{
„„I J
dto
„„J M
.
„„M N
adres
„„N S
}
„„S T
"
„„T U
}
‰‰ 
)
‰‰ 
;
‰‰ 
}
ÂÂ 
catch
ÊÊ 
{
ÊÊ 
}
ÊÊ 
return
ËË 
dto
ËË 
;
ËË 
}
ÈÈ 
catch
ÍÍ 
(
ÍÍ 
	Exception
ÍÍ 
ex
ÍÍ 
)
ÍÍ  
{
ÎÎ 
try
ÏÏ 
{
ÌÌ 
await
ÓÓ 
_logService
ÓÓ %
.
ÓÓ% &
CreateAsync
ÓÓ& 1
(
ÓÓ1 2
new
ÓÓ2 5
LogDto
ÓÓ6 <
{
ÔÔ 
kullaniciId
 #
=
$ %
dto
& )
.
) *
kullaniciId
* 5
,
5 6
durum
ÒÒ 
=
ÒÒ 
$str
ÒÒ  +
,
ÒÒ+ ,
	islemTipi
ÚÚ !
=
ÚÚ" #
$str
ÚÚ$ 4
,
ÚÚ4 5
	tarihSaat
ÛÛ !
=
ÛÛ" #
DateTime
ÛÛ$ ,
.
ÛÛ, -
UtcNow
ÛÛ- 3
,
ÛÛ3 4
ip
ÙÙ 
=
ÙÙ 
GetClientIp
ÙÙ (
(
ÙÙ( )
)
ÙÙ) *
,
ÙÙ* +
aciklama
ıı  
=
ıı! "
$"
ıı# %
$str
ıı% F
{
ııF G
ex
ııG I
.
ııI J
Message
ııJ Q
}
ııQ R
"
ııR S
}
ˆˆ 
)
ˆˆ 
;
ˆˆ 
}
˜˜ 
catch
¯¯ 
{
¯¯ 
}
¯¯ 
await
˙˙ 
transaction
˙˙ !
.
˙˙! "
RollbackAsync
˙˙" /
(
˙˙/ 0
)
˙˙0 1
;
˙˙1 2
throw
˚˚ 
new
˚˚ 
	Exception
˚˚ #
(
˚˚# $
$str
˚˚$ F
,
˚˚F G
ex
˚˚H J
)
˚˚J K
;
˚˚K L
}
¸¸ 
}
˝˝ 	
private
ˇˇ 
string
ˇˇ 
GetClientIp
ˇˇ "
(
ˇˇ" #
)
ˇˇ# $
{
ÄÄ 	
var
ÅÅ 
context
ÅÅ 
=
ÅÅ "
_httpContextAccessor
ÅÅ .
.
ÅÅ. /
HttpContext
ÅÅ/ :
;
ÅÅ: ;
if
ÇÇ 
(
ÇÇ 
context
ÇÇ 
==
ÇÇ 
null
ÇÇ 
)
ÇÇ  
return
ÉÉ 
$str
ÉÉ &
;
ÉÉ& '
var
ÖÖ 
ip
ÖÖ 
=
ÖÖ 
context
ÖÖ 
.
ÖÖ 
Request
ÖÖ $
.
ÖÖ$ %
Headers
ÖÖ% ,
[
ÖÖ, -
$str
ÖÖ- >
]
ÖÖ> ?
.
ÖÖ? @
FirstOrDefault
ÖÖ@ N
(
ÖÖN O
)
ÖÖO P
;
ÖÖP Q
if
ÜÜ 
(
ÜÜ 
!
ÜÜ 
string
ÜÜ 
.
ÜÜ 
IsNullOrEmpty
ÜÜ %
(
ÜÜ% &
ip
ÜÜ& (
)
ÜÜ( )
)
ÜÜ) *
return
áá 
ip
áá 
;
áá 
var
ââ 
remoteIp
ââ 
=
ââ 
context
ââ "
.
ââ" #

Connection
ââ# -
.
ââ- .
RemoteIpAddress
ââ. =
;
ââ= >
if
ãã 
(
ãã 
remoteIp
ãã 
==
ãã 
null
ãã  
)
ãã  !
return
åå 
$str
åå &
;
åå& '
if
éé 
(
éé 
	IPAddress
éé 
.
éé 
IPv6Loopback
éé &
.
éé& '
Equals
éé' -
(
éé- .
remoteIp
éé. 6
)
éé6 7
)
éé7 8
return
èè 
	IPAddress
èè  
.
èè  !
Loopback
èè! )
.
èè) *
ToString
èè* 2
(
èè2 3
)
èè3 4
;
èè4 5
if
ëë 
(
ëë 
remoteIp
ëë 
.
ëë  
IsIPv4MappedToIPv6
ëë +
)
ëë+ ,
remoteIp
íí 
=
íí 
remoteIp
íí #
.
íí# $
	MapToIPv4
íí$ -
(
íí- .
)
íí. /
;
íí/ 0
return
îî 
remoteIp
îî 
.
îî 
ToString
îî $
(
îî$ %
)
îî% &
;
îî& '
}
ïï 	
public
óó 
async
óó 
Task
óó 
<
óó 
(
óó 
List
óó 
<
óó  
TasinmazDto
óó  +
>
óó+ ,
data
óó- 1
,
óó1 2
int
óó3 6

totalCount
óó7 A
)
óóA B
>
óóB C&
GetPagedTasinmazlarAsync
óóD \
(
óó\ ]
int
óó] `
page
óóa e
,
óóe f
int
óóg j
pageSize
óók s
)
óós t
{
òò 	
var
ôô 
query
ôô 
=
ôô 
_context
ôô  
.
ôô  !
Tasinmaz
ôô! )
.
öö 
Include
öö 
(
öö 
t
öö 
=>
öö 
t
öö 
.
öö  
Mahalle
öö  '
)
öö' (
.
õõ 
ThenInclude
õõ  
(
õõ  !
m
õõ! "
=>
õõ# %
m
õõ& '
.
õõ' (
Ilce
õõ( ,
)
õõ, -
.
úú 
ThenInclude
úú $
(
úú$ %
i
úú% &
=>
úú' )
i
úú* +
.
úú+ ,
Il
úú, .
)
úú. /
.
ùù 
OrderByDescending
ùù "
(
ùù" #
k
ùù# $
=>
ùù% '
k
ùù( )
.
ùù) *

tasinmazId
ùù* 4
)
ùù4 5
;
ùù5 6
var
üü 

totalCount
üü 
=
üü 
await
üü "
query
üü# (
.
üü( )

CountAsync
üü) 3
(
üü3 4
)
üü4 5
;
üü5 6
var
°° 
tasinmazlar
°° 
=
°° 
await
°° #
query
°°$ )
.
¢¢ 
Skip
¢¢ 
(
¢¢ 
(
¢¢ 
page
¢¢ 
-
¢¢ 
$num
¢¢ 
)
¢¢  
*
¢¢! "
pageSize
¢¢# +
)
¢¢+ ,
.
££ 
Take
££ 
(
££ 
pageSize
££ 
)
££ 
.
§§ 
ToListAsync
§§ 
(
§§ 
)
§§ 
;
§§ 
var
¶¶ 
dtoList
¶¶ 
=
¶¶ 
tasinmazlar
¶¶ %
.
¶¶% &
Select
¶¶& ,
(
¶¶, -
EntityToDto
¶¶- 8
)
¶¶8 9
.
¶¶9 :
ToList
¶¶: @
(
¶¶@ A
)
¶¶A B
;
¶¶B C
return
ßß 
(
ßß 
dtoList
ßß 
,
ßß 

totalCount
ßß '
)
ßß' (
;
ßß( )
}
®® 	
}
©© 
}™™ ¥>
_C:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Services\MahalleServices.cs
	namespace 	
tasinmazYonetimi
 
. 
Services #
{ 
public		 

class		 
MahalleServices		  
:		! "
IMahalleServices		# 3
{

 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
MahalleServices 
( 
AppDbContext +
context, 3
)3 4
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
List 
< 

MahalleDto )
>) *
>* +
GetAllAsync, 7
(7 8
)8 9
{ 	
try 
{ 
return 
await 
_context %
.% &
Mahalle& -
. 
Select 
( 
m 
=>  
new! $

MahalleDto% /
{ 
	mahalleId !
=" #
m$ %
.% &
	mahalleId& /
,/ 0
	mahalleAd !
=" #
m$ %
.% &
	mahalleAd& /
,/ 0
ilceId 
=  
m! "
." #
ilceId# )
} 
) 
. 
ToListAsync  
(  !
)! "
;" #
} 
catch 
{   
throw!! 
;!! 
}"" 
}## 	
public%% 
async%% 
Task%% 
<%% 

MahalleDto%% $
?%%$ %
>%%% &
GetByIdAsync%%' 3
(%%3 4
int%%4 7
id%%8 :
)%%: ;
{&& 	
try'' 
{(( 
var)) 
mahalle)) 
=)) 
await)) #
_context))$ ,
.)), -
Mahalle))- 4
.))4 5
	FindAsync))5 >
())> ?
id))? A
)))A B
;))B C
if** 
(** 
mahalle** 
==** 
null** #
)**# $
return**% +
null**, 0
;**0 1
return,, 
new,, 

MahalleDto,, %
{-- 
	mahalleId.. 
=.. 
mahalle..  '
...' (
	mahalleId..( 1
,..1 2
	mahalleAd// 
=// 
mahalle//  '
.//' (
	mahalleAd//( 1
,//1 2
ilceId00 
=00 
mahalle00 $
.00$ %
ilceId00% +
}11 
;11 
}22 
catch33 
{44 
throw55 
;55 
}66 
}77 	
public99 
async99 
Task99 
<99 

MahalleDto99 $
>99$ %
CreateAsync99& 1
(991 2

MahalleDto992 <
dto99= @
)99@ A
{:: 	
try;; 
{<< 
var== 
mahalle== 
=== 
new== !
Mahalle==" )
{>> 
	mahalleAd?? 
=?? 
dto??  #
.??# $
	mahalleAd??$ -
,??- .
ilceId@@ 
=@@ 
dto@@  
.@@  !
ilceId@@! '
}AA 
;AA 
awaitCC 
_contextCC 
.CC 
MahalleCC &
.CC& '
AddAsyncCC' /
(CC/ 0
mahalleCC0 7
)CC7 8
;CC8 9
awaitDD 
_contextDD 
.DD 
SaveChangesAsyncDD /
(DD/ 0
)DD0 1
;DD1 2
returnFF 
newFF 

MahalleDtoFF %
{GG 
	mahalleIdHH 
=HH 
mahalleHH  '
.HH' (
	mahalleIdHH( 1
,HH1 2
	mahalleAdII 
=II 
mahalleII  '
.II' (
	mahalleAdII( 1
,II1 2
ilceIdJJ 
=JJ 
mahalleJJ $
.JJ$ %
ilceIdJJ% +
}KK 
;KK 
}LL 
catchMM 
{NN 
throwOO 
;OO 
}PP 
}QQ 	
publicTT 
asyncTT 
TaskTT 
<TT 

MahalleDtoTT $
?TT$ %
>TT% &
UpdateAsyncTT' 2
(TT2 3
intTT3 6
idTT7 9
,TT9 :

MahalleDtoTT; E
dtoTTF I
)TTI J
{UU 	
tryVV 
{WW 
varXX 
mahalleXX 
=XX 
awaitXX #
_contextXX$ ,
.XX, -
MahalleXX- 4
.XX4 5
	FindAsyncXX5 >
(XX> ?
idXX? A
)XXA B
;XXB C
ifYY 
(YY 
mahalleYY 
==YY 
nullYY #
)YY# $
returnZZ 
nullZZ 
;ZZ  
mahalle\\ 
.\\ 
	mahalleAd\\ !
=\\" #
dto\\$ '
.\\' (
	mahalleAd\\( 1
;\\1 2
mahalle]] 
.]] 
ilceId]] 
=]]  
dto]]! $
.]]$ %
ilceId]]% +
;]]+ ,
await__ 
_context__ 
.__ 
SaveChangesAsync__ /
(__/ 0
)__0 1
;__1 2
returnaa 
newaa 

MahalleDtoaa %
{bb 
	mahalleIdcc 
=cc 
mahallecc  '
.cc' (
	mahalleIdcc( 1
,cc1 2
	mahalleAddd 
=dd 
mahalledd  '
.dd' (
	mahalleAddd( 1
,dd1 2
ilceIdee 
=ee 
mahalleee $
.ee$ %
ilceIdee% +
}ff 
;ff 
}gg 
catchhh 
{ii 
throwjj 
;jj 
}kk 
}ll 	
publicoo 
asyncoo 
Taskoo 
<oo 

MahalleDtooo $
?oo$ %
>oo% &
DeleteAsyncoo' 2
(oo2 3
intoo3 6
idoo7 9
)oo9 :
{pp 	
usingqq 
varqq 
transactionqq !
=qq" #
awaitqq$ )
_contextqq* 2
.qq2 3
Databaseqq3 ;
.qq; <!
BeginTransactionAsyncqq< Q
(qqQ R
)qqR S
;qqS T
tryrr 
{ss 
vartt 
mahallett 
=tt 
awaittt #
_contexttt$ ,
.tt, -
Mahallett- 4
.tt4 5
	FindAsynctt5 >
(tt> ?
idtt? A
)ttA B
;ttB C
ifuu 
(uu 
mahalleuu 
==uu 
nulluu #
)uu# $
returnvv 
nullvv 
;vv  
_contextxx 
.xx 
Mahallexx  
.xx  !
Removexx! '
(xx' (
mahallexx( /
)xx/ 0
;xx0 1
awaityy 
_contextyy 
.yy 
SaveChangesAsyncyy /
(yy/ 0
)yy0 1
;yy1 2
awaitzz 
transactionzz !
.zz! "
CommitAsynczz" -
(zz- .
)zz. /
;zz/ 0
return|| 
new|| 

MahalleDto|| %
{}} 
	mahalleId~~ 
=~~ 
mahalle~~  '
.~~' (
	mahalleId~~( 1
,~~1 2
	mahalleAd 
= 
mahalle  '
.' (
	mahalleAd( 1
,1 2
ilceId
ÄÄ 
=
ÄÄ 
mahalle
ÄÄ $
.
ÄÄ$ %
ilceId
ÄÄ% +
}
ÅÅ 
;
ÅÅ 
}
ÇÇ 
catch
ÉÉ 
{
ÑÑ 
await
ÖÖ 
transaction
ÖÖ !
.
ÖÖ! "
RollbackAsync
ÖÖ" /
(
ÖÖ/ 0
)
ÖÖ0 1
;
ÖÖ1 2
throw
ÜÜ 
;
ÜÜ 
}
áá 
}
àà 	
}
ää 
}ãã ˙L
[C:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Services\LogServices.cs
	namespace 	
tasinmazYonetimi
 
. 
Services #
{ 
public 

class 
LogServices 
: 
ILogServices +
{		 
private

 
readonly

 
AppDbContext

 %
_context

& .
;

. /
public 
LogServices 
( 
AppDbContext '
context( /
)/ 0
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
List 
< 
LogDto %
>% &
>& '
GetAllAsync( 3
(3 4
)4 5
{ 	
try 
{ 
return 
await 
_context %
.% &
Log& )
. 
Select 
( 
l 
=>  
new! $
LogDto% +
{ 
logId 
= 
l  !
.! "
logId" '
,' (
kullaniciId #
=$ %
l& '
.' (
kullaniciId( 3
,3 4
durum 
= 
l  !
.! "
durum" '
,' (
	islemTipi !
=" #
l$ %
.% &
	islemTipi& /
,/ 0
	tarihSaat !
=" #
l$ %
.% &
	tarihSaat& /
,/ 0
ip 
= 
l 
. 
ip !
,! "
aciklama  
=! "
l# $
.$ %
aciklama% -
} 
) 
.   
ToListAsync    
(    !
)  ! "
;  " #
}!! 
catch"" 
{## 
throw$$ 
;$$ 
}%% 
}&& 	
public(( 
async(( 
Task(( 
<(( 
LogDto((  
?((  !
>((! "
GetByIdAsync((# /
(((/ 0
int((0 3
id((4 6
)((6 7
{)) 	
try** 
{++ 
var,, 
l,, 
=,, 
await,, 
_context,, &
.,,& '
Log,,' *
.,,* +
	FindAsync,,+ 4
(,,4 5
id,,5 7
),,7 8
;,,8 9
if-- 
(-- 
l-- 
==-- 
null-- 
)-- 
return-- %
null--& *
;--* +
return// 
new// 
LogDto// !
{00 
logId11 
=11 
l11 
.11 
logId11 #
,11# $
kullaniciId22 
=22  !
l22" #
.22# $
kullaniciId22$ /
,22/ 0
durum33 
=33 
l33 
.33 
durum33 #
,33# $
	islemTipi44 
=44 
l44  !
.44! "
	islemTipi44" +
,44+ ,
	tarihSaat55 
=55 
l55  !
.55! "
	tarihSaat55" +
,55+ ,
ip66 
=66 
l66 
.66 
ip66 
,66 
aciklama77 
=77 
l77  
.77  !
aciklama77! )
}88 
;88 
}99 
catch:: 
{;; 
throw<< 
;<< 
}== 
}>> 	
public@@ 
async@@ 
Task@@ 
<@@ 
LogDto@@  
>@@  !
CreateAsync@@" -
(@@- .
LogDto@@. 4
dto@@5 8
)@@8 9
{AA 	
tryBB 
{CC 
varDD 
logDD 
=DD 
newDD 
LogDD !
{EE 
kullaniciIdFF 
=FF  !
dtoFF" %
.FF% &
kullaniciIdFF& 1
??FF2 4
$numFF5 6
,FF6 7
durumGG 
=GG 
dtoGG 
.GG  
durumGG  %
,GG% &
	islemTipiHH 
=HH 
dtoHH  #
.HH# $
	islemTipiHH$ -
,HH- .
	tarihSaatII 
=II 
dtoII  #
.II# $
	tarihSaatII$ -
,II- .
ipJJ 
=JJ 
dtoJJ 
.JJ 
ipJJ 
,JJ  
aciklamaKK 
=KK 
dtoKK "
.KK" #
aciklamaKK# +
}LL 
;LL 
awaitNN 
_contextNN 
.NN 
LogNN "
.NN" #
AddAsyncNN# +
(NN+ ,
logNN, /
)NN/ 0
;NN0 1
awaitOO 
_contextOO 
.OO 
SaveChangesAsyncOO /
(OO/ 0
)OO0 1
;OO1 2
returnQQ 
newQQ 
LogDtoQQ !
{RR 
logIdSS 
=SS 
logSS 
.SS  
logIdSS  %
,SS% &
kullaniciIdTT 
=TT  !
logTT" %
.TT% &
kullaniciIdTT& 1
,TT1 2
durumUU 
=UU 
logUU 
.UU  
durumUU  %
,UU% &
	islemTipiVV 
=VV 
logVV  #
.VV# $
	islemTipiVV$ -
,VV- .
	tarihSaatWW 
=WW 
logWW  #
.WW# $
	tarihSaatWW$ -
,WW- .
ipXX 
=XX 
logXX 
.XX 
ipXX 
,XX  
aciklamaYY 
=YY 
logYY "
.YY" #
aciklamaYY# +
}ZZ 
;ZZ 
}[[ 
catch\\ 
{]] 
throw^^ 
;^^ 
}__ 
}`` 	
publiccc 
asynccc 
Taskcc 
<cc 
LogDtocc  
?cc  !
>cc! "
DeleteAsynccc# .
(cc. /
intcc/ 2
idcc3 5
)cc5 6
{dd 	
usingee 
varee 
transactionee !
=ee" #
awaitee$ )
_contextee* 2
.ee2 3
Databaseee3 ;
.ee; <!
BeginTransactionAsyncee< Q
(eeQ R
)eeR S
;eeS T
tryff 
{gg 
varhh 
loghh 
=hh 
awaithh 
_contexthh  (
.hh( )
Loghh) ,
.hh, -
	FindAsynchh- 6
(hh6 7
idhh7 9
)hh9 :
;hh: ;
ifii 
(ii 
logii 
==ii 
nullii 
)ii  
returnjj 
nulljj 
;jj  
_contextll 
.ll 
Logll 
.ll 
Removell #
(ll# $
logll$ '
)ll' (
;ll( )
awaitmm 
_contextmm 
.mm 
SaveChangesAsyncmm /
(mm/ 0
)mm0 1
;mm1 2
awaitnn 
transactionnn !
.nn! "
CommitAsyncnn" -
(nn- .
)nn. /
;nn/ 0
returnpp 
newpp 
LogDtopp !
{qq 
logIdrr 
=rr 
logrr 
.rr  
logIdrr  %
,rr% &
kullaniciIdss 
=ss  !
logss" %
.ss% &
kullaniciIdss& 1
,ss1 2
durumtt 
=tt 
logtt 
.tt  
durumtt  %
,tt% &
	islemTipiuu 
=uu 
loguu  #
.uu# $
	islemTipiuu$ -
,uu- .
	tarihSaatvv 
=vv 
logvv  #
.vv# $
	tarihSaatvv$ -
,vv- .
ipww 
=ww 
logww 
.ww 
ipww 
,ww  
aciklamaxx 
=xx 
logxx "
.xx" #
aciklamaxx# +
}yy 
;yy 
}zz 
catch{{ 
{|| 
await}} 
transaction}} !
.}}! "
RollbackAsync}}" /
(}}/ 0
)}}0 1
;}}1 2
throw~~ 
;~~ 
} 
}
ÄÄ 	
public
ÇÇ 
async
ÇÇ 
Task
ÇÇ 
<
ÇÇ 
(
ÇÇ 
List
ÇÇ 
<
ÇÇ  
Log
ÇÇ  #
>
ÇÇ# $
data
ÇÇ% )
,
ÇÇ) *
int
ÇÇ+ .

totalCount
ÇÇ/ 9
)
ÇÇ9 :
>
ÇÇ: ;
GetPagedLogsAsync
ÇÇ< M
(
ÇÇM N
int
ÇÇN Q
page
ÇÇR V
,
ÇÇV W
int
ÇÇX [
pageSize
ÇÇ\ d
)
ÇÇd e
{
ÉÉ 	
var
ÑÑ 
query
ÑÑ 
=
ÑÑ 
_context
ÑÑ  
.
ÑÑ  !
Log
ÑÑ! $
.
ÑÑ$ %
OrderByDescending
ÑÑ% 6
(
ÑÑ6 7
l
ÑÑ7 8
=>
ÑÑ9 ;
l
ÑÑ< =
.
ÑÑ= >
	tarihSaat
ÑÑ> G
)
ÑÑG H
;
ÑÑH I
var
ÖÖ 

totalCount
ÖÖ 
=
ÖÖ 
await
ÖÖ "
query
ÖÖ# (
.
ÖÖ( )

CountAsync
ÖÖ) 3
(
ÖÖ3 4
)
ÖÖ4 5
;
ÖÖ5 6
var
ÜÜ 
logs
ÜÜ 
=
ÜÜ 
await
ÜÜ 
query
ÜÜ "
.
ÜÜ" #
Skip
ÜÜ# '
(
ÜÜ' (
(
ÜÜ( )
page
ÜÜ) -
-
ÜÜ. /
$num
ÜÜ0 1
)
ÜÜ1 2
*
ÜÜ3 4
pageSize
ÜÜ5 =
)
ÜÜ= >
.
ÜÜ> ?
Take
ÜÜ? C
(
ÜÜC D
pageSize
ÜÜD L
)
ÜÜL M
.
ÜÜM N
ToListAsync
ÜÜN Y
(
ÜÜY Z
)
ÜÜZ [
;
ÜÜ[ \
return
áá 
(
áá 
logs
áá 
,
áá 

totalCount
áá $
)
áá$ %
;
áá% &
}
àà 	
}
ää 
}ãã àI
\C:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Services\LoginService.cs
	namespace 	
tasinmazYonetimi
 
. 
Services #
{ 
public 

class 
LoginService 
: 
ILoginService  -
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
private 
readonly 
IPasswordHasher (
<( )
	Kullanici) 2
>2 3
_passwordHasher4 C
;C D
private 
readonly 
ILogServices %
_logService& 1
;1 2
private 
readonly  
IHttpContextAccessor - 
_httpContextAccessor. B
;B C
public 
LoginService 
( 
AppDbContext (
context) 0
,0 1
IPasswordHasher2 A
<A B
	KullaniciB K
>K L
passwordHasherM [
,[ \
ILogServices] i

logServicej t
,t u!
IHttpContextAccessor	v ä!
httpContextAccessor
ã û
)
û ü
{ 	
_context 
= 
context 
; 
_passwordHasher 
= 
passwordHasher ,
;, -
_logService 
= 

logService $
;$ % 
_httpContextAccessor  
=! "
httpContextAccessor# 6
;6 7
} 	
public 
async 
Task 
< 
KullaniciDto &
?& '
>' (

LoginAsync) 3
(3 4
LoginDto4 <
loginDto= E
,E F
stringG M
?M N
ipO Q
=R S
nullT X
)X Y
{ 	
try 
{   
var!! 
	kullanici!! 
=!! 
await!!  %
_context!!& .
.!!. /
	Kullanici!!/ 8
."" 
FirstOrDefaultAsync"" (
(""( )
k"") *
=>""+ -
k"". /
.""/ 0
eMail""0 5
==""6 8
loginDto""9 A
.""A B
eMail""B G
)""G H
;""H I
if$$ 
($$ 
	kullanici$$ 
==$$  
null$$! %
)$$% &
{%% 
try&& 
{'' 
await(( 
_logService(( )
.(() *
CreateAsync((* 5
(((5 6
new((6 9
LogDto((: @
{)) 
kullaniciId** '
=**( )
$num*** +
,**+ ,
durum++ !
=++" #
$str++$ /
,++/ 0
	islemTipi,, %
=,,& '
$str,,( /
,,,/ 0
	tarihSaat-- %
=--& '
DateTime--( 0
.--0 1
UtcNow--1 7
,--7 8
ip.. 
=..  
GetClientIp..! ,
(.., -
)..- .
,... /
aciklama// $
=//% &
$"//' )
$str//) R
{//R S
loginDto//S [
.//[ \
eMail//\ a
}//a b
"//b c
}00 
)00 
;00 
}11 
catch22 
{22 
}22 
return44 
null44 
;44  
}55 
var77 
result77 
=77 
_passwordHasher77 ,
.77, - 
VerifyHashedPassword77- A
(77A B
	kullanici77B K
,77K L
	kullanici77M V
.77V W
parola77W ]
,77] ^
loginDto77_ g
.77g h
parola77h n
)77n o
;77o p
if99 
(99 
result99 
==99 &
PasswordVerificationResult99 8
.998 9
Success999 @
)99@ A
{:: 
try;; 
{<< 
await== 
_logService== )
.==) *
CreateAsync==* 5
(==5 6
new==6 9
LogDto==: @
{>> 
kullaniciId?? '
=??' (
	kullanici??) 2
.??2 3
kullaniciId??3 >
,??> ?
durum@@ !
=@@" #
$str@@$ .
,@@. /
	islemTipiAA %
=AA& '
$strAA( /
,AA/ 0
	tarihSaatBB %
=BB& '
DateTimeBB( 0
.BB0 1
UtcNowBB1 7
,BB7 8
ipCC 
=CC  
GetClientIpCC! ,
(CC, -
)CC- .
,CC. /
aciklamaDD $
=DD% &
$"DD' )
$strDD) @
{DD@ A
	kullaniciDDA J
.DDJ K
eMailDDK P
}DDP Q
"DDQ R
}EE 
)EE 
;EE 
}FF 
catchGG 
{GG 
}GG 
returnII 
newII 
KullaniciDtoII +
{JJ 
kullaniciIdKK #
=KK$ %
	kullaniciKK& /
.KK/ 0
kullaniciIdKK0 ;
,KK; <
kullaniciAdLL #
=LL$ %
	kullaniciLL& /
.LL/ 0
kullaniciAdLL0 ;
,LL; <
kullaniciSoyadMM &
=MM' (
	kullaniciMM) 2
.MM2 3
kullaniciSoyadMM3 A
,MMA B
eMailNN 
=NN 
	kullaniciNN  )
.NN) *
eMailNN* /
,NN/ 0
rolOO 
=OO 
	kullaniciOO '
.OO' (
rolOO( +
,OO+ ,
adresPP 
=PP 
	kullaniciPP  )
.PP) *
adresPP* /
,PP/ 0
eklenmeTarihiQQ %
=QQ& '
	kullaniciQQ( 1
.QQ1 2
eklenmeTarihiQQ2 ?
,QQ? @
guncellemeTarihiRR (
=RR) *
	kullaniciRR+ 4
.RR4 5
guncellemeTarihiRR5 E
}SS 
;SS 
}TT 
tryVV 
{WW 
awaitXX 
_logServiceXX %
.XX% &
CreateAsyncXX& 1
(XX1 2
newXX2 5
LogDtoXX6 <
{YY 
kullaniciIdZZ #
=ZZ$ %
	kullaniciZZ& /
.ZZ/ 0
kullaniciIdZZ0 ;
,ZZ; <
durum[[ 
=[[ 
$str[[  +
,[[+ ,
	islemTipi\\ !
=\\" #
$str\\$ +
,\\+ ,
	tarihSaat]] !
=]]" #
DateTime]]$ ,
.]], -
UtcNow]]- 3
,]]3 4
ip^^ 
=^^ 
GetClientIp^^ (
(^^( )
)^^) *
,^^* +
aciklama__  
=__! "
$"__# %
$str__% <
{__< =
	kullanici__= F
.__F G
eMail__G L
}__L M
"__M N
}`` 
)`` 
;`` 
}aa 
catchbb 
{bb 
}bb 
returndd 
nulldd 
;dd 
}ee 
catchff 
(ff 
	Exceptionff 
exff 
)ff  
{gg 
Consolehh 
.hh 
	WriteLinehh !
(hh! "
$"hh" $
$strhh$ A
{hhA B
exhhB D
.hhD E
MessagehhE L
}hhL M
"hhM N
)hhN O
;hhO P
returnii 
nullii 
;ii 
}jj 
}kk 	
privatell 
stringll 
GetClientIpll "
(ll" #
)ll# $
{mm 	
varnn 
contextnn 
=nn  
_httpContextAccessornn .
.nn. /
HttpContextnn/ :
;nn: ;
ifoo 
(oo 
contextoo 
==oo 
nulloo 
)oo  
returnpp 
$strpp &
;pp& '
varrr 
iprr 
=rr 
contextrr 
.rr 
Requestrr $
.rr$ %
Headersrr% ,
[rr, -
$strrr- >
]rr> ?
.rr? @
FirstOrDefaultrr@ N
(rrN O
)rrO P
;rrP Q
ifss 
(ss 
!ss 
stringss 
.ss 
IsNullOrEmptyss %
(ss% &
ipss& (
)ss( )
)ss) *
returntt 
iptt 
;tt 
varvv 
remoteIpvv 
=vv 
contextvv "
.vv" #

Connectionvv# -
.vv- .
RemoteIpAddressvv. =
;vv= >
ifxx 
(xx 
remoteIpxx 
==xx 
nullxx  
)xx  !
returnyy 
$stryy &
;yy& '
if{{ 
({{ 
	IPAddress{{ 
.{{ 
IPv6Loopback{{ &
.{{& '
Equals{{' -
({{- .
remoteIp{{. 6
){{6 7
){{7 8
return|| 
	IPAddress||  
.||  !
Loopback||! )
.||) *
ToString||* 2
(||2 3
)||3 4
;||4 5
if~~ 
(~~ 
remoteIp~~ 
.~~ 
IsIPv4MappedToIPv6~~ +
)~~+ ,
remoteIp 
= 
remoteIp #
.# $
	MapToIPv4$ -
(- .
). /
;/ 0
return
ÅÅ 
remoteIp
ÅÅ 
.
ÅÅ 
ToString
ÅÅ $
(
ÅÅ$ %
)
ÅÅ% &
;
ÅÅ& '
}
ÇÇ 	
}
ÑÑ 
}ÖÖ π÷
aC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Services\KullaniciServices.cs
	namespace		 	
tasinmazYonetimi		
 
.		 
Services		 #
{

 
public 

class 
KullaniciServices "
:# $
IKullaniciServices% 7
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
private 
readonly 
IPasswordHasher (
<( )
	Kullanici) 2
>2 3
_passwordHasher4 C
;C D
private 
readonly 
ILogServices %
_logService& 1
;1 2
private 
readonly  
IHttpContextAccessor - 
_httpContextAccessor. B
;B C
public 
KullaniciServices  
(  !
AppDbContext! -
context. 5
,5 6
IPasswordHasher7 F
<F G
	KullaniciG P
>P Q
passwordHasherR `
,` a
ILogServicesb n

logServiceo y
,y z!
IHttpContextAccessor	{ è!
httpContextAccessor
ê £
)
£ §
{ 	
_context 
= 
context 
; 
_passwordHasher 
= 
passwordHasher ,
;, -
_logService 
= 

logService $
;$ % 
_httpContextAccessor  
=! "
httpContextAccessor# 6
;6 7
} 	
public 
async 
Task 
< 
List 
< 
KullaniciDto +
>+ ,
>, -
GetAllAsync. 9
(9 :
): ;
{ 	
try 
{ 
return 
await 
_context %
.% &
	Kullanici& /
. 
Select 
( 
k 
=>  
new! $
KullaniciDto% 1
{   
kullaniciId!! #
=!!$ %
k!!& '
.!!' (
kullaniciId!!( 3
,!!3 4
kullaniciAd"" #
=""$ %
k""& '
.""' (
kullaniciAd""( 3
,""3 4
kullaniciSoyad## &
=##' (
k##) *
.##* +
kullaniciSoyad##+ 9
,##9 :
eMail$$ 
=$$ 
k$$  !
.$$! "
eMail$$" '
,$$' (
parola%% 
=%%  
k%%! "
.%%" #
parola%%# )
,%%) *
rol&& 
=&& 
k&& 
.&&  
rol&&  #
,&&# $
adres'' 
='' 
k''  !
.''! "
adres''" '
,''' (
eklenmeTarihi(( %
=((& '
k((( )
.(() *
eklenmeTarihi((* 7
,((7 8
guncellemeTarihi)) (
=))) *
k))+ ,
.)), -
guncellemeTarihi))- =
}** 
)** 
.++ 
ToListAsync++  
(++  !
)++! "
;++" #
},, 
catch-- 
{.. 
throw// 
;// 
}00 
}11 	
public33 
async33 
Task33 
<33 
KullaniciDto33 &
?33& '
>33' (
GetByIdAsync33) 5
(335 6
int336 9
id33: <
)33< =
{44 	
try55 
{66 
var77 
k77 
=77 
await77 
_context77 &
.77& '
	Kullanici77' 0
.770 1
	FindAsync771 :
(77: ;
id77; =
)77= >
;77> ?
if88 
(88 
k88 
==88 
null88 
)88 
return88 %
null88& *
;88* +
return:: 
new:: 
KullaniciDto:: '
{;; 
kullaniciId<< 
=<<  !
k<<" #
.<<# $
kullaniciId<<$ /
,<</ 0
kullaniciAd== 
===  !
k==" #
.==# $
kullaniciAd==$ /
,==/ 0
kullaniciSoyad>> "
=>># $
k>>% &
.>>& '
kullaniciSoyad>>' 5
,>>5 6
eMail?? 
=?? 
k?? 
.?? 
eMail?? #
,??# $
parola@@ 
=@@ 
null@@ !
,@@! "
rolAA 
=AA 
kAA 
.AA 
rolAA 
,AA  
adresBB 
=BB 
kBB 
.BB 
adresBB #
,BB# $
eklenmeTarihiCC !
=CC" #
kCC$ %
.CC% &
eklenmeTarihiCC& 3
,CC3 4
guncellemeTarihiDD $
=DD% &
kDD' (
.DD( )
guncellemeTarihiDD) 9
}EE 
;EE 
}FF 
catchGG 
{HH 
throwII 
;II 
}JJ 
}KK 	
publicLL 
asyncLL 
TaskLL 
<LL 
KullaniciDtoLL &
>LL& '
CreateAsyncLL( 3
(LL3 4
KullaniciDtoLL4 @
dtoLLA D
)LLD E
{MM 	
varNN 
girisYapanIdNN 
=NN 
awaitNN $
_contextNN% -
.NN- .
LogNN. 1
.OO 
WhereOO 
(OO 
lOO 
=>OO 
lOO 
.OO 
	islemTipiOO '
==OO( *
$strOO+ 2
)OO2 3
.PP 
OrderByDescendingPP "
(PP" #
lPP# $
=>PP% '
lPP( )
.PP) *
	tarihSaatPP* 3
)PP3 4
.QQ 
SelectQQ 
(QQ 
lQQ 
=>QQ 
lQQ 
.QQ 
kullaniciIdQQ *
)QQ* +
.RR 
FirstOrDefaultAsyncRR $
(RR$ %
)RR% &
;RR& '
tryTT 
{UU 
varVV 
kVV 
=VV 
newVV 
	KullaniciVV %
{WW 
kullaniciAdXX 
=XX  !
dtoXX" %
.XX% &
kullaniciAdXX& 1
,XX1 2
kullaniciSoyadYY "
=YY# $
dtoYY% (
.YY( )
kullaniciSoyadYY) 7
,YY7 8
eMailZZ 
=ZZ 
dtoZZ 
.ZZ  
eMailZZ  %
,ZZ% &
rol[[ 
=[[ 
dto[[ 
.[[ 
rol[[ !
,[[! "
adres\\ 
=\\ 
dto\\ 
.\\  
adres\\  %
,\\% &
eklenmeTarihi]] !
=]]" #
dto]]$ '
.]]' (
eklenmeTarihi]]( 5
,]]5 6
guncellemeTarihi^^ $
=^^% &
dto^^' *
.^^* +
guncellemeTarihi^^+ ;
}__ 
;__ 
kaa 
.aa 
parolaaa 
=aa 
_passwordHasheraa *
.aa* +
HashPasswordaa+ 7
(aa7 8
kaa8 9
,aa9 :
dtoaa; >
.aa> ?
parolaaa? E
)aaE F
;aaF G
awaitcc 
_contextcc 
.cc 
	Kullanicicc (
.cc( )
AddAsynccc) 1
(cc1 2
kcc2 3
)cc3 4
;cc4 5
awaitdd 
_contextdd 
.dd 
SaveChangesAsyncdd /
(dd/ 0
)dd0 1
;dd1 2
tryff 
{gg 
awaithh 
_logServicehh %
.hh% &
CreateAsynchh& 1
(hh1 2
newhh2 5
LogDtohh6 <
{ii 
kullaniciIdjj #
=jj$ %
girisYapanIdjj& 2
,jj2 3
durumkk 
=kk 
$strkk  *
,kk* +
	islemTipill !
=ll" #
$strll$ 6
,ll6 7
	tarihSaatmm !
=mm" #
DateTimemm$ ,
.mm, -
UtcNowmm- 3
,mm3 4
ipnn 
=nn 
GetClientIpnn (
(nn( )
)nn) *
,nn* +
aciklamaoo  
=oo! "
$"oo# %
$stroo% B
{ooB C
dtoooC F
.ooF G
eMailooG L
}ooL M
"ooM N
}pp 
)pp 
;pp 
}qq 
catchrr 
{rr 
}rr 
dtott 
.tt 
kullaniciIdtt 
=tt  !
ktt" #
.tt# $
kullaniciIdtt$ /
;tt/ 0
dtouu 
.uu 
parolauu 
=uu 
nulluu !
;uu! "
returnww 
dtoww 
;ww 
}xx 
catchyy 
(yy 
	Exceptionyy 
exyy 
)yy  
{zz 
try{{ 
{|| 
await}} 
_logService}} %
.}}% &
CreateAsync}}& 1
(}}1 2
new}}2 5
LogDto}}6 <
{~~ 
kullaniciId #
=$ %
girisYapanId& 2
,2 3
durum
ÄÄ 
=
ÄÄ 
$str
ÄÄ  +
,
ÄÄ+ ,
	islemTipi
ÅÅ !
=
ÅÅ" #
$str
ÅÅ$ 6
,
ÅÅ6 7
	tarihSaat
ÇÇ !
=
ÇÇ" #
DateTime
ÇÇ$ ,
.
ÇÇ, -
UtcNow
ÇÇ- 3
,
ÇÇ3 4
ip
ÉÉ 
=
ÉÉ 
GetClientIp
ÉÉ (
(
ÉÉ( )
)
ÉÉ) *
,
ÉÉ* +
aciklama
ÑÑ  
=
ÑÑ! "
$"
ÑÑ# %
$str
ÑÑ% G
{
ÑÑG H
ex
ÑÑH J
.
ÑÑJ K
Message
ÑÑK R
}
ÑÑR S
"
ÑÑS T
}
ÖÖ 
)
ÖÖ 
;
ÖÖ 
}
ÜÜ 
catch
áá 
{
áá 
}
áá 
throw
ââ 
;
ââ 
}
ää 
}
ãã 	
public
éé 
async
éé 
Task
éé 
<
éé 
KullaniciDto
éé &
?
éé& '
>
éé' (
UpdateAsync
éé) 4
(
éé4 5
int
éé5 8
id
éé9 ;
,
éé; <
KullaniciDto
éé= I
dto
ééJ M
)
ééM N
{
èè 	
var
êê 
girisYapanId
êê 
=
êê 
await
êê $
_context
êê% -
.
êê- .
Log
êê. 1
.
ëë 
Where
ëë 
(
ëë 
l
ëë 
=>
ëë 
l
ëë 
.
ëë 
	islemTipi
ëë '
==
ëë( *
$str
ëë+ 2
)
ëë2 3
.
íí 
OrderByDescending
íí "
(
íí" #
l
íí# $
=>
íí% '
l
íí( )
.
íí) *
	tarihSaat
íí* 3
)
íí3 4
.
ìì 
Select
ìì 
(
ìì 
l
ìì 
=>
ìì 
l
ìì 
.
ìì 
kullaniciId
ìì *
)
ìì* +
.
îî !
FirstOrDefaultAsync
îî $
(
îî$ %
)
îî% &
;
îî& '
try
ññ 
{
óó 
var
òò 
k
òò 
=
òò 
await
òò 
_context
òò &
.
òò& '
	Kullanici
òò' 0
.
òò0 1
	FindAsync
òò1 :
(
òò: ;
id
òò; =
)
òò= >
;
òò> ?
if
ôô 
(
ôô 
k
ôô 
==
ôô 
null
ôô 
)
ôô 
return
ôô %
null
ôô& *
;
ôô* +
k
õõ 
.
õõ 
kullaniciAd
õõ 
=
õõ 
dto
õõ  #
.
õõ# $
kullaniciAd
õõ$ /
;
õõ/ 0
k
úú 
.
úú 
kullaniciSoyad
úú  
=
úú! "
dto
úú# &
.
úú& '
kullaniciSoyad
úú' 5
;
úú5 6
k
ùù 
.
ùù 
eMail
ùù 
=
ùù 
dto
ùù 
.
ùù 
eMail
ùù #
;
ùù# $
if
ûû 
(
ûû 
!
ûû 
string
ûû 
.
ûû  
IsNullOrWhiteSpace
ûû .
(
ûû. /
dto
ûû/ 2
.
ûû2 3
parola
ûû3 9
)
ûû9 :
)
ûû: ;
{
üü 
k
†† 
.
†† 
parola
†† 
=
†† 
_passwordHasher
†† .
.
††. /
HashPassword
††/ ;
(
††; <
k
††< =
,
††= >
dto
††? B
.
††B C
parola
††C I
)
††I J
;
††J K
}
°° 
k
¢¢ 
.
¢¢ 
rol
¢¢ 
=
¢¢ 
dto
¢¢ 
.
¢¢ 
rol
¢¢ 
;
¢¢  
k
££ 
.
££ 
adres
££ 
=
££ 
dto
££ 
.
££ 
adres
££ #
;
££# $
k
§§ 
.
§§ 
eklenmeTarihi
§§ 
=
§§  !
dto
§§" %
.
§§% &
eklenmeTarihi
§§& 3
;
§§3 4
k
•• 
.
•• 
guncellemeTarihi
•• "
=
••# $
dto
••% (
.
••( )
guncellemeTarihi
••) 9
;
••9 :
await
ßß 
_context
ßß 
.
ßß 
SaveChangesAsync
ßß /
(
ßß/ 0
)
ßß0 1
;
ßß1 2
try
©© 
{
™™ 
await
´´ 
_logService
´´ %
.
´´% &
CreateAsync
´´& 1
(
´´1 2
new
´´2 5
LogDto
´´6 <
{
¨¨ 
kullaniciId
≠≠ #
=
≠≠$ %
girisYapanId
≠≠& 2
,
≠≠2 3
durum
ÆÆ 
=
ÆÆ 
$str
ÆÆ  *
,
ÆÆ* +
	islemTipi
ØØ !
=
ØØ" #
$str
ØØ$ :
,
ØØ: ;
	tarihSaat
∞∞ !
=
∞∞" #
DateTime
∞∞$ ,
.
∞∞, -
UtcNow
∞∞- 3
,
∞∞3 4
ip
±± 
=
±± 
GetClientIp
±± (
(
±±( )
)
±±) *
,
±±* +
aciklama
≤≤  
=
≤≤! "
$"
≤≤# %
$str
≤≤% F
{
≤≤F G
dto
≤≤G J
.
≤≤J K
eMail
≤≤K P
}
≤≤P Q
"
≤≤Q R
}
≥≥ 
)
≥≥ 
;
≥≥ 
}
¥¥ 
catch
µµ 
{
µµ 
}
µµ 
return
∑∑ 
new
∑∑ 
KullaniciDto
∑∑ '
{
∏∏ 
kullaniciId
ππ 
=
ππ  !
k
ππ" #
.
ππ# $
kullaniciId
ππ$ /
,
ππ/ 0
kullaniciAd
∫∫ 
=
∫∫  !
k
∫∫" #
.
∫∫# $
kullaniciAd
∫∫$ /
,
∫∫/ 0
kullaniciSoyad
ªª "
=
ªª# $
k
ªª% &
.
ªª& '
kullaniciSoyad
ªª' 5
,
ªª5 6
eMail
ºº 
=
ºº 
k
ºº 
.
ºº 
eMail
ºº #
,
ºº# $
rol
ΩΩ 
=
ΩΩ 
k
ΩΩ 
.
ΩΩ 
rol
ΩΩ 
,
ΩΩ  
adres
ææ 
=
ææ 
k
ææ 
.
ææ 
adres
ææ #
,
ææ# $
eklenmeTarihi
øø !
=
øø" #
k
øø$ %
.
øø% &
eklenmeTarihi
øø& 3
,
øø3 4
guncellemeTarihi
¿¿ $
=
¿¿% &
k
¿¿' (
.
¿¿( )
guncellemeTarihi
¿¿) 9
,
¿¿9 :
parola
¡¡ 
=
¡¡ 
null
¡¡ !
}
¬¬ 
;
¬¬ 
}
√√ 
catch
ƒƒ 
(
ƒƒ 
	Exception
ƒƒ 
ex
ƒƒ 
)
ƒƒ  
{
≈≈ 
try
∆∆ 
{
«« 
await
»» 
_logService
»» %
.
»»% &
CreateAsync
»»& 1
(
»»1 2
new
»»2 5
LogDto
»»6 <
{
…… 
kullaniciId
   #
=
  $ %
girisYapanId
  & 2
,
  2 3
durum
ÀÀ 
=
ÀÀ 
$str
ÀÀ  +
,
ÀÀ+ ,
	islemTipi
ÃÃ !
=
ÃÃ" #
$str
ÃÃ$ :
,
ÃÃ: ;
	tarihSaat
ÕÕ !
=
ÕÕ" #
DateTime
ÕÕ$ ,
.
ÕÕ, -
UtcNow
ÕÕ- 3
,
ÕÕ3 4
ip
ŒŒ 
=
ŒŒ 
GetClientIp
ŒŒ (
(
ŒŒ( )
)
ŒŒ) *
,
ŒŒ* +
aciklama
œœ  
=
œœ! "
$"
œœ# %
$str
œœ% I
{
œœI J
ex
œœJ L
.
œœL M
Message
œœM T
}
œœT U
"
œœU V
}
–– 
)
–– 
;
–– 
}
—— 
catch
““ 
{
““ 
}
““ 
throw
”” 
;
”” 
}
‘‘ 
}
’’ 	
public
◊◊ 
async
◊◊ 
Task
◊◊ 
<
◊◊ 
KullaniciDto
◊◊ &
?
◊◊& '
>
◊◊' (
DeleteAsync
◊◊) 4
(
◊◊4 5
int
◊◊5 8
id
◊◊9 ;
,
◊◊; <
KullaniciDto
◊◊= I
dto
◊◊J M
)
◊◊M N
{
ÿÿ 	
var
ŸŸ 
logs
ŸŸ 
=
ŸŸ 
await
ŸŸ 
_context
ŸŸ %
.
ŸŸ% &
Log
ŸŸ& )
.
⁄⁄ 
Where
⁄⁄ 
(
⁄⁄ 
l
⁄⁄ 
=>
⁄⁄ 
l
⁄⁄ 
.
⁄⁄ 
kullaniciId
⁄⁄ )
==
⁄⁄* ,
id
⁄⁄- /
)
⁄⁄/ 0
.
€€ 
ToListAsync
€€ 
(
€€ 
)
€€ 
;
€€ 
foreach
›› 
(
›› 
var
›› 
log
›› 
in
›› 
logs
››  $
)
››$ %
{
ﬁﬁ 
log
ﬂﬂ 
.
ﬂﬂ 
kullaniciId
ﬂﬂ 
=
ﬂﬂ  !
null
ﬂﬂ" &
;
ﬂﬂ& '
}
‡‡ 
await
·· 
_context
·· 
.
·· 
SaveChangesAsync
·· +
(
··+ ,
)
··, -
;
··- .
var
„„ 
girisYapanId
„„ 
=
„„ 
await
„„ $
_context
„„% -
.
„„- .
Log
„„. 1
.
‰‰ 
Where
‰‰ 
(
‰‰ 
l
‰‰ 
=>
‰‰ 
l
‰‰ 
.
‰‰ 
	islemTipi
‰‰ '
==
‰‰( *
$str
‰‰+ 2
)
‰‰2 3
.
ÂÂ 
OrderByDescending
ÂÂ "
(
ÂÂ" #
l
ÂÂ# $
=>
ÂÂ% '
l
ÂÂ( )
.
ÂÂ) *
	tarihSaat
ÂÂ* 3
)
ÂÂ3 4
.
ÊÊ 
Select
ÊÊ 
(
ÊÊ 
l
ÊÊ 
=>
ÊÊ 
l
ÊÊ 
.
ÊÊ 
kullaniciId
ÊÊ *
)
ÊÊ* +
.
ÁÁ !
FirstOrDefaultAsync
ÁÁ $
(
ÁÁ$ %
)
ÁÁ% &
;
ÁÁ& '
try
ÈÈ 
{
ÍÍ 
var
ÎÎ 
tasinmazlar
ÎÎ 
=
ÎÎ  !
await
ÎÎ" '
_context
ÎÎ( 0
.
ÎÎ0 1
Tasinmaz
ÎÎ1 9
.
ÎÎ9 :
Where
ÎÎ: ?
(
ÎÎ? @
t
ÎÎ@ A
=>
ÎÎB D
t
ÎÎE F
.
ÎÎF G
kullaniciId
ÎÎG R
==
ÎÎS U
id
ÎÎV X
)
ÎÎX Y
.
ÎÎY Z
ToListAsync
ÎÎZ e
(
ÎÎe f
)
ÎÎf g
;
ÎÎg h
if
ÏÏ 
(
ÏÏ 
tasinmazlar
ÏÏ 
.
ÏÏ  
Any
ÏÏ  #
(
ÏÏ# $
)
ÏÏ$ %
)
ÏÏ% &
{
ÌÌ 
_context
ÓÓ 
.
ÓÓ 
Tasinmaz
ÓÓ %
.
ÓÓ% &
RemoveRange
ÓÓ& 1
(
ÓÓ1 2
tasinmazlar
ÓÓ2 =
)
ÓÓ= >
;
ÓÓ> ?
}
ÔÔ 
await
ÒÒ 
_context
ÒÒ 
.
ÒÒ 
SaveChangesAsync
ÒÒ /
(
ÒÒ/ 0
)
ÒÒ0 1
;
ÒÒ1 2
var
ÛÛ 
k
ÛÛ 
=
ÛÛ 
await
ÛÛ 
_context
ÛÛ &
.
ÛÛ& '
	Kullanici
ÛÛ' 0
.
ÛÛ0 1
	FindAsync
ÛÛ1 :
(
ÛÛ: ;
id
ÛÛ; =
)
ÛÛ= >
;
ÛÛ> ?
if
ÙÙ 
(
ÙÙ 
k
ÙÙ 
==
ÙÙ 
null
ÙÙ 
)
ÙÙ 
return
ÙÙ %
null
ÙÙ& *
;
ÙÙ* +
_context
ˆˆ 
.
ˆˆ 
	Kullanici
ˆˆ "
.
ˆˆ" #
Remove
ˆˆ# )
(
ˆˆ) *
k
ˆˆ* +
)
ˆˆ+ ,
;
ˆˆ, -
await
˜˜ 
_context
˜˜ 
.
˜˜ 
SaveChangesAsync
˜˜ /
(
˜˜/ 0
)
˜˜0 1
;
˜˜1 2
try
˘˘ 
{
˙˙ 
await
˚˚ 
_logService
˚˚ %
.
˚˚% &
CreateAsync
˚˚& 1
(
˚˚1 2
new
˚˚2 5
LogDto
˚˚6 <
{
¸¸ 
kullaniciId
˝˝ #
=
˝˝$ %
girisYapanId
˝˝& 2
,
˝˝2 3
durum
˛˛ 
=
˛˛ 
$str
˛˛  *
,
˛˛* +
	islemTipi
ˇˇ !
=
ˇˇ" #
$str
ˇˇ$ 5
,
ˇˇ5 6
	tarihSaat
ÄÄ !
=
ÄÄ" #
DateTime
ÄÄ$ ,
.
ÄÄ, -
UtcNow
ÄÄ- 3
,
ÄÄ3 4
ip
ÅÅ 
=
ÅÅ 
GetClientIp
ÅÅ (
(
ÅÅ( )
)
ÅÅ) *
,
ÅÅ* +
aciklama
ÇÇ  
=
ÇÇ! "
$"
ÇÇ# %
$str
ÇÇ% B
{
ÇÇB C
dto
ÇÇC F
.
ÇÇF G
eMail
ÇÇG L
}
ÇÇL M
"
ÇÇM N
}
ÉÉ 
)
ÉÉ 
;
ÉÉ 
}
ÑÑ 
catch
ÖÖ 
{
ÖÖ 
}
ÖÖ 
return
áá 
new
áá 
KullaniciDto
áá '
{
àà 
kullaniciId
ââ 
=
ââ  !
k
ââ" #
.
ââ# $
kullaniciId
ââ$ /
,
ââ/ 0
kullaniciAd
ää 
=
ää  !
k
ää" #
.
ää# $
kullaniciAd
ää$ /
,
ää/ 0
kullaniciSoyad
ãã "
=
ãã# $
k
ãã% &
.
ãã& '
kullaniciSoyad
ãã' 5
,
ãã5 6
eMail
åå 
=
åå 
k
åå 
.
åå 
eMail
åå #
,
åå# $
rol
çç 
=
çç 
k
çç 
.
çç 
rol
çç 
,
çç  
adres
éé 
=
éé 
k
éé 
.
éé 
adres
éé #
,
éé# $
eklenmeTarihi
èè !
=
èè" #
k
èè$ %
.
èè% &
eklenmeTarihi
èè& 3
,
èè3 4
guncellemeTarihi
êê $
=
êê% &
k
êê' (
.
êê( )
guncellemeTarihi
êê) 9
,
êê9 :
parola
ëë 
=
ëë 
null
ëë !
}
íí 
;
íí 
}
ìì 
catch
îî 
(
îî 
	Exception
îî 
ex
îî 
)
îî  
{
ïï 
try
ññ 
{
óó 
await
òò 
_logService
òò %
.
òò% &
CreateAsync
òò& 1
(
òò1 2
new
òò2 5
LogDto
òò6 <
{
ôô 
kullaniciId
öö #
=
öö$ %
girisYapanId
öö& 2
,
öö2 3
durum
õõ 
=
õõ 
$str
õõ  +
,
õõ+ ,
	islemTipi
úú !
=
úú" #
$str
úú$ 5
,
úú5 6
	tarihSaat
ùù !
=
ùù" #
DateTime
ùù$ ,
.
ùù, -
UtcNow
ùù- 3
,
ùù3 4
ip
ûû 
=
ûû 
GetClientIp
ûû (
(
ûû( )
)
ûû) *
,
ûû* +
aciklama
üü  
=
üü! "
$"
üü# %
$str
üü% G
{
üüG H
ex
üüH J
.
üüJ K
Message
üüK R
}
üüR S
"
üüS T
}
†† 
)
†† 
;
†† 
}
°° 
catch
¢¢ 
{
¢¢ 
}
¢¢ 
throw
§§ 
;
§§ 
}
•• 
}
¶¶ 	
private
®® 
string
®® 
GetClientIp
®® "
(
®®" #
)
®®# $
{
©© 	
var
™™ 
context
™™ 
=
™™ "
_httpContextAccessor
™™ .
.
™™. /
HttpContext
™™/ :
;
™™: ;
if
´´ 
(
´´ 
context
´´ 
==
´´ 
null
´´ 
)
´´  
return
¨¨ 
$str
¨¨ &
;
¨¨& '
var
ÆÆ 
ip
ÆÆ 
=
ÆÆ 
context
ÆÆ 
.
ÆÆ 
Request
ÆÆ $
.
ÆÆ$ %
Headers
ÆÆ% ,
[
ÆÆ, -
$str
ÆÆ- >
]
ÆÆ> ?
.
ÆÆ? @
FirstOrDefault
ÆÆ@ N
(
ÆÆN O
)
ÆÆO P
;
ÆÆP Q
if
ØØ 
(
ØØ 
!
ØØ 
string
ØØ 
.
ØØ 
IsNullOrEmpty
ØØ %
(
ØØ% &
ip
ØØ& (
)
ØØ( )
)
ØØ) *
return
∞∞ 
ip
∞∞ 
;
∞∞ 
var
≤≤ 
remoteIp
≤≤ 
=
≤≤ 
context
≤≤ "
.
≤≤" #

Connection
≤≤# -
.
≤≤- .
RemoteIpAddress
≤≤. =
;
≤≤= >
if
¥¥ 
(
¥¥ 
remoteIp
¥¥ 
==
¥¥ 
null
¥¥  
)
¥¥  !
return
µµ 
$str
µµ &
;
µµ& '
if
∑∑ 
(
∑∑ 
	IPAddress
∑∑ 
.
∑∑ 
IPv6Loopback
∑∑ &
.
∑∑& '
Equals
∑∑' -
(
∑∑- .
remoteIp
∑∑. 6
)
∑∑6 7
)
∑∑7 8
return
∏∏ 
	IPAddress
∏∏  
.
∏∏  !
Loopback
∏∏! )
.
∏∏) *
ToString
∏∏* 2
(
∏∏2 3
)
∏∏3 4
;
∏∏4 5
if
∫∫ 
(
∫∫ 
remoteIp
∫∫ 
.
∫∫  
IsIPv4MappedToIPv6
∫∫ +
)
∫∫+ ,
remoteIp
ªª 
=
ªª 
remoteIp
ªª #
.
ªª# $
	MapToIPv4
ªª$ -
(
ªª- .
)
ªª. /
;
ªª/ 0
return
ΩΩ 
remoteIp
ΩΩ 
.
ΩΩ 
ToString
ΩΩ $
(
ΩΩ$ %
)
ΩΩ% &
;
ΩΩ& '
}
ææ 	
public
øø 
async
øø 
Task
øø 
<
øø 
(
øø 
List
øø 
<
øø  
	Kullanici
øø  )
>
øø) *
data
øø+ /
,
øø/ 0
int
øø1 4

totalCount
øø5 ?
)
øø? @
>
øø@ A'
GetPagedKullanicilarAsync
øøB [
(
øø[ \
int
øø\ _
page
øø` d
,
øød e
int
øøf i
pageSize
øøj r
)
øør s
{
¿¿ 	
var
¡¡ 
query
¡¡ 
=
¡¡ 
_context
¡¡  
.
¡¡  !
	Kullanici
¡¡! *
.
¡¡* +
OrderByDescending
¡¡+ <
(
¡¡< =
k
¡¡= >
=>
¡¡? A
k
¡¡B C
.
¡¡C D
kullaniciId
¡¡D O
)
¡¡O P
;
¡¡P Q
var
¬¬ 

totalCount
¬¬ 
=
¬¬ 
await
¬¬ "
query
¬¬# (
.
¬¬( )

CountAsync
¬¬) 3
(
¬¬3 4
)
¬¬4 5
;
¬¬5 6
var
√√ 
kullanicilar
√√ 
=
√√ 
await
√√ $
query
√√% *
.
ƒƒ 
Skip
ƒƒ 
(
ƒƒ 
(
ƒƒ 
page
ƒƒ 
-
ƒƒ 
$num
ƒƒ 
)
ƒƒ  
*
ƒƒ! "
pageSize
ƒƒ# +
)
ƒƒ+ ,
.
≈≈ 
Take
≈≈ 
(
≈≈ 
pageSize
≈≈ 
)
≈≈ 
.
∆∆ 
ToListAsync
∆∆ 
(
∆∆ 
)
∆∆ 
;
∆∆ 
return
»» 
(
»» 
kullanicilar
»»  
,
»»  !

totalCount
»»" ,
)
»», -
;
»»- .
}
…… 	
}
ÃÃ 
}ÕÕ Í5
YC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Services\IlService.cs
	namespace 	
tasinmazYonetimi
 
. 
Services #
{ 
public		 

class		 
	IlService		 
:		 

IIlService		 '
{

 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
	IlService 
( 
AppDbContext %
context& -
)- .
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
List 
< 
IlDto $
>$ %
>% &
GetAllAsync' 2
(2 3
)3 4
{ 	
try 
{ 
var 
iller 
= 
await !
_context" *
.* +
Il+ -
. 
Select 
( 
x 
=>  
new! $
IlDto% *
{ 
ilId 
= 
x  
.  !
ilId! %
,% &
ilAd 
= 
x  
.  !
ilAd! %
} 
) 
. 
ToListAsync  
(  !
)! "
;" #
return 
iller 
; 
} 
catch   
{!! 
throw"" 
;"" 
}## 
}$$ 	
public&& 
async&& 
Task&& 
<&& 
IlDto&& 
>&&  
GetByIdAsync&&! -
(&&- .
int&&. 1
id&&2 4
)&&4 5
{'' 	
try(( 
{)) 
var** 
il** 
=** 
await** 
_context** '
.**' (
Il**( *
.*** +
	FindAsync**+ 4
(**4 5
id**5 7
)**7 8
;**8 9
if,, 
(,, 
il,, 
==,, 
null,, 
),, 
return-- 
null-- 
;--  
return// 
new// 
IlDto//  
{00 
ilId11 
=11 
il11 
.11 
ilId11 "
,11" #
ilAd22 
=22 
il22 
.22 
ilAd22 "
}33 
;33 
}44 
catch55 
{66 
throw77 
;77 
}88 
}99 	
public;; 
async;; 
Task;; 
<;; 
IlDto;; 
>;;  
CreateAsync;;! ,
(;;, -
IlDto;;- 2
dto;;3 6
);;6 7
{<< 	
try== 
{>> 
var?? 
il?? 
=?? 
new?? 
Il?? 
{@@ 
ilAdAA 
=AA 
dtoAA 
.AA 
ilAdAA #
}BB 
;BB 
_contextDD 
.DD 
IlDD 
.DD 
AddDD 
(DD  
ilDD  "
)DD" #
;DD# $
awaitEE 
_contextEE 
.EE 
SaveChangesAsyncEE /
(EE/ 0
)EE0 1
;EE1 2
dtoGG 
.GG 
ilIdGG 
=GG 
ilGG 
.GG 
ilIdGG "
;GG" #
returnII 
dtoII 
;II 
}JJ 
catchKK 
{LL 
throwMM 
;MM 
}NN 
}OO 	
publicQQ 
asyncQQ 
TaskQQ 
<QQ 
IlDtoQQ 
>QQ  
UpdateAsyncQQ! ,
(QQ, -
intQQ- 0
idQQ1 3
,QQ3 4
IlDtoQQ5 :
dtoQQ; >
)QQ> ?
{RR 	
trySS 
{TT 
varUU 
ilUU 
=UU 
awaitUU 
_contextUU '
.UU' (
IlUU( *
.UU* +
	FindAsyncUU+ 4
(UU4 5
idUU5 7
)UU7 8
;UU8 9
ifVV 
(VV 
ilVV 
==VV 
nullVV 
)VV 
returnWW 
nullWW 
;WW  
ilYY 
.YY 
ilAdYY 
=YY 
dtoYY 
.YY 
ilAdYY "
;YY" #
await[[ 
_context[[ 
.[[ 
SaveChangesAsync[[ /
([[/ 0
)[[0 1
;[[1 2
return]] 
new]] 
IlDto]]  
{^^ 
ilId__ 
=__ 
il__ 
.__ 
ilId__ "
,__" #
ilAd`` 
=`` 
il`` 
.`` 
ilAd`` "
}aa 
;aa 
}bb 
catchcc 
{dd 
throwee 
;ee 
}ff 
}gg 	
publicii 
asyncii 
Taskii 
<ii 
IlDtoii 
?ii  
>ii  !
DeleteAsyncii" -
(ii- .
intii. 1
idii2 4
)ii4 5
{jj 	
usingkk 
varkk 
transactionkk !
=kk" #
awaitkk$ )
_contextkk* 2
.kk2 3
Databasekk3 ;
.kk; <!
BeginTransactionAsynckk< Q
(kkQ R
)kkR S
;kkS T
trymm 
{nn 
varoo 
iloo 
=oo 
awaitoo 
_contextoo '
.oo' (
Iloo( *
.oo* +
	FindAsyncoo+ 4
(oo4 5
idoo5 7
)oo7 8
;oo8 9
ifpp 
(pp 
ilpp 
==pp 
nullpp 
)pp 
returnqq 
nullqq 
;qq  
_contextss 
.ss 
Ilss 
.ss 
Removess "
(ss" #
ilss# %
)ss% &
;ss& '
awaittt 
_contexttt 
.tt 
SaveChangesAsynctt /
(tt/ 0
)tt0 1
;tt1 2
awaituu 
transactionuu !
.uu! "
CommitAsyncuu" -
(uu- .
)uu. /
;uu/ 0
varww 
dtoww 
=ww 
newww 
IlDtoww #
{xx 
ilIdyy 
=yy 
ilyy 
.yy 
ilIdyy "
,yy" #
ilAdzz 
=zz 
ilzz 
.zz 
ilAdzz "
}{{ 
;{{ 
return}} 
dto}} 
;}} 
}~~ 
catch 
{
ÄÄ 
await
ÅÅ 
transaction
ÅÅ !
.
ÅÅ! "
RollbackAsync
ÅÅ" /
(
ÅÅ/ 0
)
ÅÅ0 1
;
ÅÅ1 2
throw
ÇÇ 
;
ÇÇ 
}
ÉÉ 
}
ÑÑ 	
}
ÜÜ 
}áá ‰8
\C:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Services\IlceServices.cs
	namespace 	
tasinmazYonetimi
 
. 
Services #
{ 
public		 

class		 
IlceServices		 
:		 
IIlceServices		  -
{

 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
IlceServices 
( 
AppDbContext (
context) 0
)0 1
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
List 
< 
IlceDto &
>& '
>' (
GetAllAsync) 4
(4 5
)5 6
{ 	
try 
{ 
return 
await 
_context %
.% &
Ilce& *
. 
Select 
( 
i 
=>  
new! $
IlceDto% ,
{ 
ilceId 
=  
i! "
." #
ilceId# )
,) *
ilceAd 
=  
i! "
." #
ilceAd# )
,) *
ilId 
= 
i  
.  !
ilId! %
} 
) 
. 
ToListAsync  
(  !
)! "
;" #
} 
catch 
{   
throw!! 
;!! 
}"" 
}## 	
public%% 
async%% 
Task%% 
<%% 
IlceDto%% !
?%%! "
>%%" #
GetByIdAsync%%$ 0
(%%0 1
int%%1 4
id%%5 7
)%%7 8
{&& 	
try'' 
{(( 
var)) 
ilce)) 
=)) 
await))  
_context))! )
.))) *
Ilce))* .
.)). /
	FindAsync))/ 8
())8 9
id))9 ;
))); <
;))< =
if** 
(** 
ilce** 
==** 
null**  
)**  !
return**" (
null**) -
;**- .
return,, 
new,, 
IlceDto,, "
{-- 
ilceId.. 
=.. 
ilce.. !
...! "
ilceId.." (
,..( )
ilceAd// 
=// 
ilce// !
.//! "
ilceAd//" (
,//( )
ilId00 
=00 
ilce00 
.00  
ilId00  $
}11 
;11 
}22 
catch33 
{44 
throw55 
;55 
}66 
}77 	
public99 
async99 
Task99 
CreateAsync99 %
(99% &
IlceDto99& -
dto99. 1
)991 2
{:: 	
try;; 
{<< 
var== 
ilce== 
=== 
new== 
Ilce== #
{>> 
ilceAd?? 
=?? 
dto??  
.??  !
ilceAd??! '
,??' (
ilId@@ 
=@@ 
dto@@ 
.@@ 
ilId@@ #
}AA 
;AA 
awaitCC 
_contextCC 
.CC 
IlceCC #
.CC# $
AddAsyncCC$ ,
(CC, -
ilceCC- 1
)CC1 2
;CC2 3
awaitDD 
_contextDD 
.DD 
SaveChangesAsyncDD /
(DD/ 0
)DD0 1
;DD1 2
}EE 
catchFF 
{GG 
throwHH 
;HH 
}II 
}JJ 	
publicLL 
asyncLL 
TaskLL 
<LL 
IlceDtoLL !
?LL! "
>LL" #
UpdateAsyncLL$ /
(LL/ 0
intLL0 3
idLL4 6
,LL6 7
IlceDtoLL8 ?
dtoLL@ C
)LLC D
{MM 	
tryNN 
{OO 
varPP 
ilcePP 
=PP 
awaitPP  
_contextPP! )
.PP) *
IlcePP* .
.PP. /
	FindAsyncPP/ 8
(PP8 9
idPP9 ;
)PP; <
;PP< =
ifQQ 
(QQ 
ilceQQ 
==QQ 
nullQQ  
)QQ  !
returnRR 
nullRR 
;RR  
ilceTT 
.TT 
ilceAdTT 
=TT 
dtoTT !
.TT! "
ilceAdTT" (
;TT( )
ilceUU 
.UU 
ilIdUU 
=UU 
dtoUU 
.UU  
ilIdUU  $
;UU$ %
awaitWW 
_contextWW 
.WW 
SaveChangesAsyncWW /
(WW/ 0
)WW0 1
;WW1 2
returnYY 
newYY 
IlceDtoYY "
{ZZ 
ilceId[[ 
=[[ 
ilce[[ !
.[[! "
ilceId[[" (
,[[( )
ilceAd\\ 
=\\ 
ilce\\ !
.\\! "
ilceAd\\" (
,\\( )
ilId]] 
=]] 
ilce]] 
.]]  
ilId]]  $
}^^ 
;^^ 
}__ 
catch`` 
{aa 
throwbb 
;bb 
}cc 
}dd 	
publicgg 
asyncgg 
Taskgg 
<gg 
IlceDtogg !
?gg! "
>gg" #
DeleteAsyncgg$ /
(gg/ 0
intgg0 3
idgg4 6
)gg6 7
{hh 	
usingii 
varii 
transactionii !
=ii" #
awaitii$ )
_contextii* 2
.ii2 3
Databaseii3 ;
.ii; <!
BeginTransactionAsyncii< Q
(iiQ R
)iiR S
;iiS T
trykk 
{ll 
varmm 
ilcemm 
=mm 
awaitmm  
_contextmm! )
.mm) *
Ilcemm* .
.mm. /
	FindAsyncmm/ 8
(mm8 9
idmm9 ;
)mm; <
;mm< =
ifnn 
(nn 
ilcenn 
==nn 
nullnn  
)nn  !
returnoo 
nulloo 
;oo  
_contextqq 
.qq 
Ilceqq 
.qq 
Removeqq $
(qq$ %
ilceqq% )
)qq) *
;qq* +
awaitrr 
_contextrr 
.rr 
SaveChangesAsyncrr /
(rr/ 0
)rr0 1
;rr1 2
awaitss 
transactionss !
.ss! "
CommitAsyncss" -
(ss- .
)ss. /
;ss/ 0
returnuu 
newuu 
IlceDtouu "
{vv 
ilceIdww 
=ww 
ilceww !
.ww! "
ilceIdww" (
,ww( )
ilceAdxx 
=xx 
ilcexx !
.xx! "
ilceAdxx" (
,xx( )
ilIdyy 
=yy 
ilceyy 
.yy  
ilIdyy  $
}zz 
;zz 
}{{ 
catch|| 
{}} 
await~~ 
transaction~~ !
.~~! "
RollbackAsync~~" /
(~~/ 0
)~~0 1
;~~1 2
throw 
; 
}
ÄÄ 
}
ÅÅ 	
}
ÉÉ 
}ÑÑ √/
NC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Program.cs
	namespace 	
tasinmazYonetimi
 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
var 
builder 
= 
WebApplication (
.( )
CreateBuilder) 6
(6 7
args7 ;
); <
;< =
builder 
. 
Services 
. 
AddAutoMapper *
(* +
typeof+ 1
(1 2
MappingProfile2 @
)@ A
)A B
;B C
builder 
. 
Services 
. 
	AddScoped &
<& '

IIlService' 1
,1 2
	IlService3 <
>< =
(= >
)> ?
;? @
builder 
. 
Services 
. 
	AddScoped &
<& '
IIlceServices' 4
,4 5
IlceServices6 B
>B C
(C D
)D E
;E F
builder 
. 
Services 
. 
	AddScoped &
<& '
IMahalleServices' 7
,7 8
MahalleServices9 H
>H I
(I J
)J K
;K L
builder 
. 
Services 
. 
	AddScoped &
<& '
IKullaniciServices' 9
,9 :
KullaniciServices; L
>L M
(M N
)N O
;O P
builder 
. 
Services 
. 
	AddScoped &
<& '
ILogServices' 3
,3 4
LogServices5 @
>@ A
(A B
)B C
;C D
builder 
. 
Services 
. 
	AddScoped &
<& '
ITasinmazService' 7
,7 8
TasinmazService9 H
>H I
(I J
)J K
;K L
builder 
. 
Services 
. 
	AddScoped &
<& '
ILoginService' 4
,4 5
LoginService6 B
>B C
(C D
)D E
;E F
builder 
. 
Services 
. "
AddHttpContextAccessor 3
(3 4
)4 5
;5 6
builder 
. 
Services 
. 
AddDbContext )
<) *
AppDbContext* 6
>6 7
(7 8
options8 ?
=>@ B
options   
.   
	UseNpgsql   
(   
builder   %
.  % &
Configuration  & 3
.  3 4
GetConnectionString  4 G
(  G H
$str  H \
)  \ ]
)  ] ^
)  ^ _
;  _ `
builder"" 
."" 
Services"" 
."" 
AddCors"" $
(""$ %
options""% ,
=>""- /
{## 
options$$ 
.$$ 
	AddPolicy$$ !
($$! "
$str$$" .
,$$. /
builder$$0 7
=>$$8 :
{%% 
builder&& 
.&& 
AllowAnyOrigin&& *
(&&* +
)&&+ ,
.'' 
AllowAnyMethod'' *
(''* +
)''+ ,
.(( 
AllowAnyHeader(( *
(((* +
)((+ ,
;((, -
})) 
))) 
;)) 
}** 
)** 
;** 
builder,, 
.,, 
Services,, 
.,, 
AddControllers,, +
(,,+ ,
),,, -
.-- 
AddJsonOptions-- 
(--  
opt--  #
=>--$ &
{--' (
opt.. 
... !
JsonSerializerOptions.. -
...- . 
PropertyNamingPolicy... B
=..C D
null..E I
;..I J
}// 
)// 
;// 
builder00 
.00 
Services00 
.00 "
AddHttpContextAccessor00 3
(003 4
)004 5
;005 6
builder11 
.11 
Services11 
.11 #
AddEndpointsApiExplorer11 4
(114 5
)115 6
;116 7
builder22 
.22 
Services22 
.22 
AddSwaggerGen22 *
(22* +
)22+ ,
;22, -
builder33 
.33 
Services33 
.33 
	AddScoped33 &
<33& '
IPasswordHasher33' 6
<336 7
	Kullanici337 @
>33@ A
,33A B
PasswordHasher33C Q
<33Q R
	Kullanici33R [
>33[ \
>33\ ]
(33] ^
)33^ _
;33_ `
var55 
app55 
=55 
builder55 
.55 
Build55 #
(55# $
)55$ %
;55% &
if77 
(77 
app77 
.77 
Environment77 
.77  
IsDevelopment77  -
(77- .
)77. /
)77/ 0
{88 
app99 
.99 

UseSwagger99 
(99 
)99  
;99  !
app:: 
.:: 
UseSwaggerUI::  
(::  !
)::! "
;::" #
};; 
app== 
.== 
UseCors== 
(== 
$str== $
)==$ %
;==% &
app>> 
.>> 
UseHttpsRedirection>> #
(>># $
)>>$ %
;>>% &
app@@ 
.@@ 
MapControllers@@ 
(@@ 
)@@  
;@@  !
appBB 
.BB 
RunBB 
(BB 
)BB 
;BB 
}DD 	
}EE 
}FF é
VC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Models\Tasinmaz.cs
	namespace 	
tasinmazYonetimi
 
. 
Models !
{ 
public 

class 
Tasinmaz 
{ 
public 
int 

tasinmazId 
{ 
get  #
;# $
set% (
;( )
}* +
public		 
int		 
	mahalleId		 
{		 
get		 "
;		" #
set		$ '
;		' (
}		) *
public

 
string

 
adaa

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 
string 
parsel 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
nitelik 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
adres 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
? 
kullaniciId 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
	koordinat 
{  !
get" %
;% &
set' *
;* +
}, -
[ 	

ForeignKey	 
( 
$str !
)! "
]" #
public 
	Kullanici 
	Kullanici "
{# $
get% (
;( )
set* -
;- .
}/ 0
[ 	

ForeignKey	 
( 
$str 
)  
]  !
public 
Mahalle 
Mahalle 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} π	
UC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Models\Mahalle.cs
	namespace 	
tasinmazYonetimi
 
. 
Models !
{ 
public 

class 
Mahalle 
{ 
public 
int 
	mahalleId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
	mahalleAd 
{  !
get" %
;% &
set' *
;* +
}, -
public 
int 
ilceId 
{ 
get 
;  
set! $
;$ %
}& '
[

 	

ForeignKey

	 
(

 
$str

 
)

 
]

 
public 
Ilce 
Ilce 
{ 
get 
; 
set  #
;# $
}% &
public 
List 
< 
Tasinmaz 
> 
Tasinmaz &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
} 
} ˆ
QC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Models\Log.cs
	namespace 	
tasinmazYonetimi
 
. 
Models !
{ 
public 

class 
Log 
{ 
public 
int 
logId 
{ 
get 
; 
set  #
;# $
}% &
public 
int 
? 
kullaniciId 
{  !
get" %
;% &
set' *
;* +
}, -
public		 
string		 
durum		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
public

 
string

 
	islemTipi

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
public 
DateTime 
	tarihSaat !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
ip 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
aciklama 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	

ForeignKey	 
( 
$str !
)! "
]" #
public 
	Kullanici 
? 
	Kullanici #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} ¿
WC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Models\Kullanici.cs
	namespace 	
tasinmazYonetimi
 
. 
Models !
{ 
public 

class 
	Kullanici 
{ 
public 
int 
kullaniciId 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
kullaniciAd !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
kullaniciSoyad $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
eMail 
{ 
get !
;! "
set# &
;& '
}( )
public		 
string		 
parola		 
{		 
get		 "
;		" #
set		$ '
;		' (
}		) *
public

 
string

 
rol

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
string 
adres 
{ 
get !
;! "
set# &
;& '
}( )
public 
DateTime 
eklenmeTarihi %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DateTime 
guncellemeTarihi (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
List 
< 
Log 
> 
Log 
{ 
get "
;" #
set$ '
;' (
}) *
public 
List 
< 
Tasinmaz 
> 
Tasinmaz &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
} 
} •	
RC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Models\Ilce.cs
	namespace 	
tasinmazYonetimi
 
. 
Models !
{ 
public 

class 
Ilce 
{ 
public 
int 
ilceId 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
ilceAd 
{ 
get "
;" #
set$ '
;' (
}) *
public		 
int		 
ilId		 
{		 
get		 
;		 
set		 "
;		" #
}		$ %
[ 	

ForeignKey	 
( 
$str 
) 
] 
public 
Il 
Il 
{ 
get 
; 
set 
;  
}! "
public 
List 
< 
Mahalle 
> 
Mahalle $
{% &
get' *
;* +
set, /
;/ 0
}1 2
} 
} ä
PC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Models\Il.cs
	namespace 	
tasinmazYonetimi
 
. 
Models !
{ 
public 

class 
Il 
{ 
public 
int 
ilId 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
ilAd 
{ 
get  
;  !
set" %
;% &
}' (
public 
List 
< 
Ilce 
> 
Ilce 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
}		 ˝8
~C:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Migrations\20250627134917_RemoveKullaniciIdFromTasinmaz.cs
	namespace 	
tasinmazYonetimi
 
. 

Migrations %
{ 
public		 

partial		 
class		 )
RemoveKullaniciIdFromTasinmaz		 6
:		7 8
	Migration		9 B
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str 9
,9 :
table 
: 
$str !
)! "
;" #
migrationBuilder 
. 
	DropIndex &
(& '
name 
: 
$str /
,/ 0
table 
: 
$str !
)! "
;" #
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str %
,% &
table 
: 
$str !
)! "
;" #
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str #
,# $
table 
: 
$str !
)! "
;" #
migrationBuilder 
. 
AlterColumn (
<( )
DateTime) 1
>1 2
(2 3
name 
: 
$str !
,! "
table   
:   
$str   
,   
type!! 
:!! 
$str!! 0
,!!0 1
nullable"" 
:"" 
false"" 
,""  

oldClrType## 
:## 
typeof## "
(##" #
string### )
)##) *
,##* +
oldType$$ 
:$$ 
$str$$ 
)$$  
;$$  !
migrationBuilder&& 
.&& 
AlterColumn&& (
<&&( )
DateTime&&) 1
>&&1 2
(&&2 3
name'' 
:'' 
$str'' (
,''( )
table(( 
:(( 
$str(( "
,((" #
type)) 
:)) 
$str)) 0
,))0 1
nullable** 
:** 
false** 
,**  

oldClrType++ 
:++ 
typeof++ "
(++" #
string++# )
)++) *
,++* +
oldType,, 
:,, 
$str,, 
),,  
;,,  !
migrationBuilder.. 
... 
AlterColumn.. (
<..( )
DateTime..) 1
>..1 2
(..2 3
name// 
:// 
$str// %
,//% &
table00 
:00 
$str00 "
,00" #
type11 
:11 
$str11 0
,110 1
nullable22 
:22 
false22 
,22  

oldClrType33 
:33 
typeof33 "
(33" #
string33# )
)33) *
,33* +
oldType44 
:44 
$str44 
)44  
;44  !
}55 	
	protected88 
override88 
void88 
Down88  $
(88$ %
MigrationBuilder88% 5
migrationBuilder886 F
)88F G
{99 	
migrationBuilder:: 
.:: 
	AddColumn:: &
<::& '
string::' -
>::- .
(::. /
name;; 
:;; 
$str;; %
,;;% &
table<< 
:<< 
$str<< !
,<<! "
type== 
:== 
$str== 
,== 
nullable>> 
:>> 
false>> 
,>>  
defaultValue?? 
:?? 
$str??  
)??  !
;??! "
migrationBuilderAA 
.AA 
	AddColumnAA &
<AA& '
intAA' *
>AA* +
(AA+ ,
nameBB 
:BB 
$strBB #
,BB# $
tableCC 
:CC 
$strCC !
,CC! "
typeDD 
:DD 
$strDD 
,DD  
nullableEE 
:EE 
falseEE 
,EE  
defaultValueFF 
:FF 
$numFF 
)FF  
;FF  !
migrationBuilderHH 
.HH 
AlterColumnHH (
<HH( )
stringHH) /
>HH/ 0
(HH0 1
nameII 
:II 
$strII !
,II! "
tableJJ 
:JJ 
$strJJ 
,JJ 
typeKK 
:KK 
$strKK 
,KK 
nullableLL 
:LL 
falseLL 
,LL  

oldClrTypeMM 
:MM 
typeofMM "
(MM" #
DateTimeMM# +
)MM+ ,
,MM, -
oldTypeNN 
:NN 
$strNN 3
)NN3 4
;NN4 5
migrationBuilderPP 
.PP 
AlterColumnPP (
<PP( )
stringPP) /
>PP/ 0
(PP0 1
nameQQ 
:QQ 
$strQQ (
,QQ( )
tableRR 
:RR 
$strRR "
,RR" #
typeSS 
:SS 
$strSS 
,SS 
nullableTT 
:TT 
falseTT 
,TT  

oldClrTypeUU 
:UU 
typeofUU "
(UU" #
DateTimeUU# +
)UU+ ,
,UU, -
oldTypeVV 
:VV 
$strVV 3
)VV3 4
;VV4 5
migrationBuilderXX 
.XX 
AlterColumnXX (
<XX( )
stringXX) /
>XX/ 0
(XX0 1
nameYY 
:YY 
$strYY %
,YY% &
tableZZ 
:ZZ 
$strZZ "
,ZZ" #
type[[ 
:[[ 
$str[[ 
,[[ 
nullable\\ 
:\\ 
false\\ 
,\\  

oldClrType]] 
:]] 
typeof]] "
(]]" #
DateTime]]# +
)]]+ ,
,]], -
oldType^^ 
:^^ 
$str^^ 3
)^^3 4
;^^4 5
migrationBuilder`` 
.`` 
CreateIndex`` (
(``( )
nameaa 
:aa 
$straa /
,aa/ 0
tablebb 
:bb 
$strbb !
,bb! "
columncc 
:cc 
$strcc %
)cc% &
;cc& '
migrationBuilderee 
.ee 
AddForeignKeyee *
(ee* +
nameff 
:ff 
$strff 9
,ff9 :
tablegg 
:gg 
$strgg !
,gg! "
columnhh 
:hh 
$strhh %
,hh% &
principalTableii 
:ii 
$strii  +
,ii+ ,
principalColumnjj 
:jj  
$strjj! .
,jj. /
onDeletekk 
:kk 
ReferentialActionkk +
.kk+ ,
Cascadekk, 3
)kk3 4
;kk4 5
}ll 	
}mm 
}nn É
^C:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Mappings\MappingProfile.cs
	namespace 	
tasinmazYonetimi
 
. 
Mappings #
{ 
public 

class 
MappingProfile 
:  !
Profile" )
{ 
public		 
MappingProfile		 
(		 
)		 
{

 	
	CreateMap 
< 
Il 
, 
IlDto 
>  
(  !
)! "
." #

ReverseMap# -
(- .
). /
;/ 0
	CreateMap 
< 
Ilce 
, 
IlceDto #
># $
($ %
)% &
.& '

ReverseMap' 1
(1 2
)2 3
;3 4
	CreateMap 
< 
Mahalle 
, 

MahalleDto )
>) *
(* +
)+ ,
., -

ReverseMap- 7
(7 8
)8 9
;9 :
	CreateMap 
< 
	Kullanici 
,  
KullaniciDto! -
>- .
(. /
)/ 0
.0 1

ReverseMap1 ;
(; <
)< =
;= >
	CreateMap 
< 
Log 
, 
LogDto !
>! "
(" #
)# $
.$ %

ReverseMap% /
(/ 0
)0 1
;1 2
	CreateMap 
< 
Tasinmaz 
, 
TasinmazDto  +
>+ ,
(, -
)- .
.. /

ReverseMap/ 9
(9 :
): ;
;; <
} 	
} 
} ñ
bC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Interfaces\ITasinmazService.cs
	namespace 	
tasinmazYonetimi
 
. 
Services #
.# $

Interfaces$ .
{ 
public 

	interface 
ITasinmazService %
{ 
Task 
< 
List 
< 
TasinmazDto 
> 
> 
GetAllAsync  +
(+ ,
), -
;- .
Task		 
<		 
TasinmazDto		 
?		 
>		 
GetByIdAsync		 '
(		' (
int		( +
id		, .
)		. /
;		/ 0
Task

 
<

 
TasinmazDto

 
>

 
AddAsync

 "
(

" #
TasinmazDto

# .
dto

/ 2
)

2 3
;

3 4
Task 
< 
TasinmazDto 
? 
> 
UpdateAsync &
(& '
int' *
id+ -
,- .
TasinmazDto/ :
dto; >
)> ?
;? @
Task 
< 
TasinmazDto 
? 
> 
DeleteAsync &
(& '
int' *
id+ -
,- .
TasinmazDto/ :
dto; >
)> ?
;? @
Task 
< 
( 
List 
< 
TasinmazDto 
> 
data  $
,$ %
int& )

totalCount* 4
)4 5
>5 6$
GetPagedTasinmazlarAsync7 O
(O P
intP S
pageT X
,X Y
intZ ]
pageSize^ f
)f g
;g h
} 
} Ã

bC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Interfaces\IMahalleServices.cs
	namespace 	
tasinmazYonetimi
 
. 
Services #
.# $

Interfaces$ .
{ 
public 

	interface 
IMahalleServices %
{ 
Task 
< 
List 
< 

MahalleDto 
> 
> 
GetAllAsync *
(* +
)+ ,
;, -
Task 
< 

MahalleDto 
? 
> 
GetByIdAsync &
(& '
int' *
id+ -
)- .
;. /
Task		 
<		 

MahalleDto		 
>		 
CreateAsync		 $
(		$ %

MahalleDto		% /
dto		0 3
)		3 4
;		4 5
Task

 
<

 

MahalleDto

 
?

 
>

 
UpdateAsync

 %
(

% &
int

& )
id

* ,
,

, -

MahalleDto

. 8
dto

9 <
)

< =
;

= >
Task 
< 

MahalleDto 
? 
> 
DeleteAsync %
(% &
int& )
id* ,
), -
;- .
} 
} æπ
nC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Migrations\20250618194108_InitialCreate.cs
	namespace 	
tasinmazYonetimi
 
. 

Migrations %
{ 
public 

partial 
class 
InitialCreate &
:' (
	Migration) 2
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
, 
columns 
: 
table 
=> !
new" %
{ 
ilId 
= 
table  
.  !
Column! '
<' (
int( +
>+ ,
(, -
type- 1
:1 2
$str3 <
,< =
nullable> F
:F G
falseH M
)M N
. 

Annotation #
(# $
$str$ D
,D E)
NpgsqlValueGenerationStrategyF c
.c d#
IdentityByDefaultColumnd {
){ |
,| }
ilAd 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 <
,< =
nullable> F
:F G
falseH M
)M N
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% ,
,, -
x. /
=>0 2
x3 4
.4 5
ilId5 9
)9 :
;: ;
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str !
,! "
columns 
: 
table 
=> !
new" %
{ 
kullaniciId 
=  !
table" '
.' (
Column( .
<. /
int/ 2
>2 3
(3 4
type4 8
:8 9
$str: C
,C D
nullableE M
:M N
falseO T
)T U
. 

Annotation #
(# $
$str$ D
,D E)
NpgsqlValueGenerationStrategyF c
.c d#
IdentityByDefaultColumnd {
){ |
,| }
kullaniciAd 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= C
,C D
nullableE M
:M N
falseO T
)T U
,U V
kullaniciSoyad   "
=  # $
table  % *
.  * +
Column  + 1
<  1 2
string  2 8
>  8 9
(  9 :
type  : >
:  > ?
$str  @ F
,  F G
nullable  H P
:  P Q
false  R W
)  W X
,  X Y
eMail!! 
=!! 
table!! !
.!!! "
Column!!" (
<!!( )
string!!) /
>!!/ 0
(!!0 1
type!!1 5
:!!5 6
$str!!7 =
,!!= >
nullable!!? G
:!!G H
false!!I N
)!!N O
,!!O P
parola"" 
="" 
table"" "
.""" #
Column""# )
<"") *
string""* 0
>""0 1
(""1 2
type""2 6
:""6 7
$str""8 >
,""> ?
nullable""@ H
:""H I
false""J O
)""O P
,""P Q
rol## 
=## 
table## 
.##  
Column##  &
<##& '
string##' -
>##- .
(##. /
type##/ 3
:##3 4
$str##5 ;
,##; <
nullable##= E
:##E F
false##G L
)##L M
,##M N
adres$$ 
=$$ 
table$$ !
.$$! "
Column$$" (
<$$( )
string$$) /
>$$/ 0
($$0 1
type$$1 5
:$$5 6
$str$$7 =
,$$= >
nullable$$? G
:$$G H
false$$I N
)$$N O
,$$O P
eklenmeTarihi%% !
=%%" #
table%%$ )
.%%) *
Column%%* 0
<%%0 1
string%%1 7
>%%7 8
(%%8 9
type%%9 =
:%%= >
$str%%? E
,%%E F
nullable%%G O
:%%O P
false%%Q V
)%%V W
,%%W X
guncellemeTarihi&& $
=&&% &
table&&' ,
.&&, -
Column&&- 3
<&&3 4
string&&4 :
>&&: ;
(&&; <
type&&< @
:&&@ A
$str&&B H
,&&H I
nullable&&J R
:&&R S
false&&T Y
)&&Y Z
}'' 
,'' 
constraints(( 
:(( 
table(( "
=>((# %
{)) 
table** 
.** 

PrimaryKey** $
(**$ %
$str**% 3
,**3 4
x**5 6
=>**7 9
x**: ;
.**; <
kullaniciId**< G
)**G H
;**H I
}++ 
)++ 
;++ 
migrationBuilder-- 
.-- 
CreateTable-- (
(--( )
name.. 
:.. 
$str.. 
,.. 
columns// 
:// 
table// 
=>// !
new//" %
{00 
ilceId11 
=11 
table11 "
.11" #
Column11# )
<11) *
int11* -
>11- .
(11. /
type11/ 3
:113 4
$str115 >
,11> ?
nullable11@ H
:11H I
false11J O
)11O P
.22 

Annotation22 #
(22# $
$str22$ D
,22D E)
NpgsqlValueGenerationStrategy22F c
.22c d#
IdentityByDefaultColumn22d {
)22{ |
,22| }
ilceAd33 
=33 
table33 "
.33" #
Column33# )
<33) *
string33* 0
>330 1
(331 2
type332 6
:336 7
$str338 >
,33> ?
nullable33@ H
:33H I
false33J O
)33O P
,33P Q
ilId44 
=44 
table44  
.44  !
Column44! '
<44' (
int44( +
>44+ ,
(44, -
type44- 1
:441 2
$str443 <
,44< =
nullable44> F
:44F G
false44H M
)44M N
}55 
,55 
constraints66 
:66 
table66 "
=>66# %
{77 
table88 
.88 

PrimaryKey88 $
(88$ %
$str88% .
,88. /
x880 1
=>882 4
x885 6
.886 7
ilceId887 =
)88= >
;88> ?
table99 
.99 

ForeignKey99 $
(99$ %
name:: 
::: 
$str:: /
,::/ 0
column;; 
:;; 
x;;  !
=>;;" $
x;;% &
.;;& '
ilId;;' +
,;;+ ,
principalTable<< &
:<<& '
$str<<( ,
,<<, -
principalColumn== '
:==' (
$str==) /
,==/ 0
onDelete>>  
:>>  !
ReferentialAction>>" 3
.>>3 4
Cascade>>4 ;
)>>; <
;>>< =
}?? 
)?? 
;?? 
migrationBuilderAA 
.AA 
CreateTableAA (
(AA( )
nameBB 
:BB 
$strBB 
,BB 
columnsCC 
:CC 
tableCC 
=>CC !
newCC" %
{DD 
logIdEE 
=EE 
tableEE !
.EE! "
ColumnEE" (
<EE( )
intEE) ,
>EE, -
(EE- .
typeEE. 2
:EE2 3
$strEE4 =
,EE= >
nullableEE? G
:EEG H
falseEEI N
)EEN O
.FF 

AnnotationFF #
(FF# $
$strFF$ D
,FFD E)
NpgsqlValueGenerationStrategyFFF c
.FFc d#
IdentityByDefaultColumnFFd {
)FF{ |
,FF| }
kullaniciIdGG 
=GG  !
tableGG" '
.GG' (
ColumnGG( .
<GG. /
intGG/ 2
>GG2 3
(GG3 4
typeGG4 8
:GG8 9
$strGG: C
,GGC D
nullableGGE M
:GGM N
falseGGO T
)GGT U
,GGU V
durumHH 
=HH 
tableHH !
.HH! "
ColumnHH" (
<HH( )
stringHH) /
>HH/ 0
(HH0 1
typeHH1 5
:HH5 6
$strHH7 =
,HH= >
nullableHH? G
:HHG H
falseHHI N
)HHN O
,HHO P
	islemTipiII 
=II 
tableII  %
.II% &
ColumnII& ,
<II, -
stringII- 3
>II3 4
(II4 5
typeII5 9
:II9 :
$strII; A
,IIA B
nullableIIC K
:IIK L
falseIIM R
)IIR S
,IIS T
	tarihSaatJJ 
=JJ 
tableJJ  %
.JJ% &
ColumnJJ& ,
<JJ, -
stringJJ- 3
>JJ3 4
(JJ4 5
typeJJ5 9
:JJ9 :
$strJJ; A
,JJA B
nullableJJC K
:JJK L
falseJJM R
)JJR S
,JJS T
ipKK 
=KK 
tableKK 
.KK 
ColumnKK %
<KK% &
stringKK& ,
>KK, -
(KK- .
typeKK. 2
:KK2 3
$strKK4 :
,KK: ;
nullableKK< D
:KKD E
falseKKF K
)KKK L
,KKL M
aciklamaLL 
=LL 
tableLL $
.LL$ %
ColumnLL% +
<LL+ ,
stringLL, 2
>LL2 3
(LL3 4
typeLL4 8
:LL8 9
$strLL: @
,LL@ A
nullableLLB J
:LLJ K
falseLLL Q
)LLQ R
}MM 
,MM 
constraintsNN 
:NN 
tableNN "
=>NN# %
{OO 
tablePP 
.PP 

PrimaryKeyPP $
(PP$ %
$strPP% -
,PP- .
xPP/ 0
=>PP1 3
xPP4 5
.PP5 6
logIdPP6 ;
)PP; <
;PP< =
tableQQ 
.QQ 

ForeignKeyQQ $
(QQ$ %
nameRR 
:RR 
$strRR <
,RR< =
columnSS 
:SS 
xSS  !
=>SS" $
xSS% &
.SS& '
kullaniciIdSS' 2
,SS2 3
principalTableTT &
:TT& '
$strTT( 3
,TT3 4
principalColumnUU '
:UU' (
$strUU) 6
,UU6 7
onDeleteVV  
:VV  !
ReferentialActionVV" 3
.VV3 4
CascadeVV4 ;
)VV; <
;VV< =
}WW 
)WW 
;WW 
migrationBuilderYY 
.YY 
CreateTableYY (
(YY( )
nameZZ 
:ZZ 
$strZZ 
,ZZ  
columns[[ 
:[[ 
table[[ 
=>[[ !
new[[" %
{\\ 
	mahalleId]] 
=]] 
table]]  %
.]]% &
Column]]& ,
<]], -
int]]- 0
>]]0 1
(]]1 2
type]]2 6
:]]6 7
$str]]8 A
,]]A B
nullable]]C K
:]]K L
false]]M R
)]]R S
.^^ 

Annotation^^ #
(^^# $
$str^^$ D
,^^D E)
NpgsqlValueGenerationStrategy^^F c
.^^c d#
IdentityByDefaultColumn^^d {
)^^{ |
,^^| }
	mahalleAd__ 
=__ 
table__  %
.__% &
Column__& ,
<__, -
string__- 3
>__3 4
(__4 5
type__5 9
:__9 :
$str__; A
,__A B
nullable__C K
:__K L
false__M R
)__R S
,__S T
ilceId`` 
=`` 
table`` "
.``" #
Column``# )
<``) *
int``* -
>``- .
(``. /
type``/ 3
:``3 4
$str``5 >
,``> ?
nullable``@ H
:``H I
false``J O
)``O P
}aa 
,aa 
constraintsbb 
:bb 
tablebb "
=>bb# %
{cc 
tabledd 
.dd 

PrimaryKeydd $
(dd$ %
$strdd% 1
,dd1 2
xdd3 4
=>dd5 7
xdd8 9
.dd9 :
	mahalleIddd: C
)ddC D
;ddD E
tableee 
.ee 

ForeignKeyee $
(ee$ %
nameff 
:ff 
$strff 6
,ff6 7
columngg 
:gg 
xgg  !
=>gg" $
xgg% &
.gg& '
ilceIdgg' -
,gg- .
principalTablehh &
:hh& '
$strhh( .
,hh. /
principalColumnii '
:ii' (
$strii) 1
,ii1 2
onDeletejj  
:jj  !
ReferentialActionjj" 3
.jj3 4
Cascadejj4 ;
)jj; <
;jj< =
}kk 
)kk 
;kk 
migrationBuildermm 
.mm 
CreateTablemm (
(mm( )
namenn 
:nn 
$strnn  
,nn  !
columnsoo 
:oo 
tableoo 
=>oo !
newoo" %
{pp 

tasinmazIdqq 
=qq  
tableqq! &
.qq& '
Columnqq' -
<qq- .
intqq. 1
>qq1 2
(qq2 3
typeqq3 7
:qq7 8
$strqq9 B
,qqB C
nullableqqD L
:qqL M
falseqqN S
)qqS T
.rr 

Annotationrr #
(rr# $
$strrr$ D
,rrD E)
NpgsqlValueGenerationStrategyrrF c
.rrc d#
IdentityByDefaultColumnrrd {
)rr{ |
,rr| }
ilIdss 
=ss 
tabless  
.ss  !
Columnss! '
<ss' (
intss( +
>ss+ ,
(ss, -
typess- 1
:ss1 2
$strss3 <
,ss< =
nullabless> F
:ssF G
falsessH M
)ssM N
,ssN O
ilceIdtt 
=tt 
tablett "
.tt" #
Columntt# )
<tt) *
inttt* -
>tt- .
(tt. /
typett/ 3
:tt3 4
$strtt5 >
,tt> ?
nullablett@ H
:ttH I
falsettJ O
)ttO P
,ttP Q
	mahalleIduu 
=uu 
tableuu  %
.uu% &
Columnuu& ,
<uu, -
intuu- 0
>uu0 1
(uu1 2
typeuu2 6
:uu6 7
$struu8 A
,uuA B
nullableuuC K
:uuK L
falseuuM R
)uuR S
,uuS T
adaavv 
=vv 
tablevv  
.vv  !
Columnvv! '
<vv' (
stringvv( .
>vv. /
(vv/ 0
typevv0 4
:vv4 5
$strvv6 <
,vv< =
nullablevv> F
:vvF G
falsevvH M
)vvM N
,vvN O
parselww 
=ww 
tableww "
.ww" #
Columnww# )
<ww) *
stringww* 0
>ww0 1
(ww1 2
typeww2 6
:ww6 7
$strww8 >
,ww> ?
nullableww@ H
:wwH I
falsewwJ O
)wwO P
,wwP Q
nitelikxx 
=xx 
tablexx #
.xx# $
Columnxx$ *
<xx* +
stringxx+ 1
>xx1 2
(xx2 3
typexx3 7
:xx7 8
$strxx9 ?
,xx? @
nullablexxA I
:xxI J
falsexxK P
)xxP Q
,xxQ R
adresyy 
=yy 
tableyy !
.yy! "
Columnyy" (
<yy( )
stringyy) /
>yy/ 0
(yy0 1
typeyy1 5
:yy5 6
$stryy7 =
,yy= >
nullableyy? G
:yyG H
falseyyI N
)yyN O
,yyO P
eklenmeTarihizz !
=zz" #
tablezz$ )
.zz) *
Columnzz* 0
<zz0 1
stringzz1 7
>zz7 8
(zz8 9
typezz9 =
:zz= >
$strzz? E
,zzE F
nullablezzG O
:zzO P
falsezzQ V
)zzV W
,zzW X
kullaniciId{{ 
={{  !
table{{" '
.{{' (
Column{{( .
<{{. /
int{{/ 2
>{{2 3
({{3 4
type{{4 8
:{{8 9
$str{{: C
,{{C D
nullable{{E M
:{{M N
false{{O T
){{T U
}|| 
,|| 
constraints}} 
:}} 
table}} "
=>}}# %
{~~ 
table 
. 

PrimaryKey $
($ %
$str% 2
,2 3
x4 5
=>6 8
x9 :
.: ;

tasinmazId; E
)E F
;F G
table
ÄÄ 
.
ÄÄ 

ForeignKey
ÄÄ $
(
ÄÄ$ %
name
ÅÅ 
:
ÅÅ 
$str
ÅÅ 3
,
ÅÅ3 4
column
ÇÇ 
:
ÇÇ 
x
ÇÇ  !
=>
ÇÇ" $
x
ÇÇ% &
.
ÇÇ& '
ilId
ÇÇ' +
,
ÇÇ+ ,
principalTable
ÉÉ &
:
ÉÉ& '
$str
ÉÉ( ,
,
ÉÉ, -
principalColumn
ÑÑ '
:
ÑÑ' (
$str
ÑÑ) /
,
ÑÑ/ 0
onDelete
ÖÖ  
:
ÖÖ  !
ReferentialAction
ÖÖ" 3
.
ÖÖ3 4
Cascade
ÖÖ4 ;
)
ÖÖ; <
;
ÖÖ< =
table
ÜÜ 
.
ÜÜ 

ForeignKey
ÜÜ $
(
ÜÜ$ %
name
áá 
:
áá 
$str
áá 7
,
áá7 8
column
àà 
:
àà 
x
àà  !
=>
àà" $
x
àà% &
.
àà& '
ilceId
àà' -
,
àà- .
principalTable
ââ &
:
ââ& '
$str
ââ( .
,
ââ. /
principalColumn
ää '
:
ää' (
$str
ää) 1
,
ää1 2
onDelete
ãã  
:
ãã  !
ReferentialAction
ãã" 3
.
ãã3 4
Cascade
ãã4 ;
)
ãã; <
;
ãã< =
table
åå 
.
åå 

ForeignKey
åå $
(
åå$ %
name
çç 
:
çç 
$str
çç A
,
ççA B
column
éé 
:
éé 
x
éé  !
=>
éé" $
x
éé% &
.
éé& '
kullaniciId
éé' 2
,
éé2 3
principalTable
èè &
:
èè& '
$str
èè( 3
,
èè3 4
principalColumn
êê '
:
êê' (
$str
êê) 6
,
êê6 7
onDelete
ëë  
:
ëë  !
ReferentialAction
ëë" 3
.
ëë3 4
Cascade
ëë4 ;
)
ëë; <
;
ëë< =
table
íí 
.
íí 

ForeignKey
íí $
(
íí$ %
name
ìì 
:
ìì 
$str
ìì =
,
ìì= >
column
îî 
:
îî 
x
îî  !
=>
îî" $
x
îî% &
.
îî& '
	mahalleId
îî' 0
,
îî0 1
principalTable
ïï &
:
ïï& '
$str
ïï( 1
,
ïï1 2
principalColumn
ññ '
:
ññ' (
$str
ññ) 4
,
ññ4 5
onDelete
óó  
:
óó  !
ReferentialAction
óó" 3
.
óó3 4
Cascade
óó4 ;
)
óó; <
;
óó< =
}
òò 
)
òò 
;
òò 
migrationBuilder
öö 
.
öö 
CreateIndex
öö (
(
öö( )
name
õõ 
:
õõ 
$str
õõ $
,
õõ$ %
table
úú 
:
úú 
$str
úú 
,
úú 
column
ùù 
:
ùù 
$str
ùù 
)
ùù 
;
ùù  
migrationBuilder
üü 
.
üü 
CreateIndex
üü (
(
üü( )
name
†† 
:
†† 
$str
†† *
,
††* +
table
°° 
:
°° 
$str
°° 
,
°° 
column
¢¢ 
:
¢¢ 
$str
¢¢ %
)
¢¢% &
;
¢¢& '
migrationBuilder
§§ 
.
§§ 
CreateIndex
§§ (
(
§§( )
name
•• 
:
•• 
$str
•• )
,
••) *
table
¶¶ 
:
¶¶ 
$str
¶¶  
,
¶¶  !
column
ßß 
:
ßß 
$str
ßß  
)
ßß  !
;
ßß! "
migrationBuilder
©© 
.
©© 
CreateIndex
©© (
(
©©( )
name
™™ 
:
™™ 
$str
™™ *
,
™™* +
table
´´ 
:
´´ 
$str
´´ !
,
´´! "
column
¨¨ 
:
¨¨ 
$str
¨¨  
)
¨¨  !
;
¨¨! "
migrationBuilder
ÆÆ 
.
ÆÆ 
CreateIndex
ÆÆ (
(
ÆÆ( )
name
ØØ 
:
ØØ 
$str
ØØ (
,
ØØ( )
table
∞∞ 
:
∞∞ 
$str
∞∞ !
,
∞∞! "
column
±± 
:
±± 
$str
±± 
)
±± 
;
±±  
migrationBuilder
≥≥ 
.
≥≥ 
CreateIndex
≥≥ (
(
≥≥( )
name
¥¥ 
:
¥¥ 
$str
¥¥ /
,
¥¥/ 0
table
µµ 
:
µµ 
$str
µµ !
,
µµ! "
column
∂∂ 
:
∂∂ 
$str
∂∂ %
)
∂∂% &
;
∂∂& '
migrationBuilder
∏∏ 
.
∏∏ 
CreateIndex
∏∏ (
(
∏∏( )
name
ππ 
:
ππ 
$str
ππ -
,
ππ- .
table
∫∫ 
:
∫∫ 
$str
∫∫ !
,
∫∫! "
column
ªª 
:
ªª 
$str
ªª #
)
ªª# $
;
ªª$ %
}
ºº 	
	protected
ΩΩ 
override
ΩΩ 
void
ΩΩ 
Down
ΩΩ  $
(
ΩΩ$ %
MigrationBuilder
ΩΩ% 5
migrationBuilder
ΩΩ6 F
)
ΩΩF G
{
ææ 	
migrationBuilder
øø 
.
øø 
	DropTable
øø &
(
øø& '
name
¿¿ 
:
¿¿ 
$str
¿¿ 
)
¿¿ 
;
¿¿ 
migrationBuilder
¬¬ 
.
¬¬ 
	DropTable
¬¬ &
(
¬¬& '
name
√√ 
:
√√ 
$str
√√  
)
√√  !
;
√√! "
migrationBuilder
≈≈ 
.
≈≈ 
	DropTable
≈≈ &
(
≈≈& '
name
∆∆ 
:
∆∆ 
$str
∆∆ !
)
∆∆! "
;
∆∆" #
migrationBuilder
»» 
.
»» 
	DropTable
»» &
(
»»& '
name
…… 
:
…… 
$str
…… 
)
……  
;
……  !
migrationBuilder
ÀÀ 
.
ÀÀ 
	DropTable
ÀÀ &
(
ÀÀ& '
name
ÃÃ 
:
ÃÃ 
$str
ÃÃ 
)
ÃÃ 
;
ÃÃ 
migrationBuilder
ŒŒ 
.
ŒŒ 
	DropTable
ŒŒ &
(
ŒŒ& '
name
œœ 
:
œœ 
$str
œœ 
)
œœ 
;
œœ 
}
–– 	
}
—— 
}““ ë
^C:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Interfaces\ILogServices.cs
	namespace 	
tasinmazYonetimi
 
. 
Services #
{ 
public 

	interface 
ILogServices !
{ 
Task 
< 
List 
< 
LogDto 
> 
> 
GetAllAsync &
(& '
)' (
;( )
Task		 
<		 
LogDto		 
?		 
>		 
GetByIdAsync		 "
(		" #
int		# &
id		' )
)		) *
;		* +
Task

 
<

 
LogDto

 
>

 
CreateAsync

  
(

  !
LogDto

! '
dto

( +
)

+ ,
;

, -
Task 
< 
LogDto 
? 
> 
DeleteAsync !
(! "
int" %
id& (
)( )
;) *
Task 
< 
( 
List 
< 
Log 
> 
data 
, 
int !

totalCount" ,
), -
>- .
GetPagedLogsAsync/ @
(@ A
intA D
pageE I
,I J
intK N
pageSizeO W
)W X
;X Y
} 
} Ê
_C:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Interfaces\ILoginService.cs
	namespace 	
tasinmazYonetimi
 
. 

Interfaces %
{ 
public 

	interface 
ILoginService "
{ 
Task 
< 
KullaniciDto 
? 
> 

LoginAsync &
(& '
LoginDto' /
loginDto0 8
,8 9
string: @
?@ A
ipB D
=E F
nullG K
)K L
;L M
}

 
} ˝
dC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Interfaces\IKullaniciServices.cs
	namespace 	
tasinmazYonetimi
 
. 
Services #
{ 
public 

	interface 
IKullaniciServices '
{ 
Task 
< 
List 
< 
KullaniciDto 
> 
>  
GetAllAsync! ,
(, -
)- .
;. /
Task		 
<		 
KullaniciDto		 
?		 
>		 
GetByIdAsync		 (
(		( )
int		) ,
id		- /
)		/ 0
;		0 1
Task

 
<

 
KullaniciDto

 
>

 
CreateAsync

 &
(

& '
KullaniciDto

' 3
dto

4 7
)

7 8
;

8 9
Task 
< 
KullaniciDto 
? 
> 
UpdateAsync '
(' (
int( +
id, .
,. /
KullaniciDto0 <
dto= @
)@ A
;A B
Task 
< 
KullaniciDto 
? 
> 
DeleteAsync '
(' (
int( +
id, .
,. /
KullaniciDto0 <
dto= @
)@ A
;A B
Task 
< 
( 
List 
< 
	Kullanici 
> 
data "
," #
int$ '

totalCount( 2
)2 3
>3 4%
GetPagedKullanicilarAsync5 N
(N O
intO R
pageS W
,W X
intY \
pageSize] e
)e f
;f g
} 
} 	
\C:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Interfaces\IIlService.cs
	namespace 	
tasinmazYonetimi
 
. 
Services #
.# $

Interfaces$ .
{ 
public 

	interface 

IIlService 
{ 
Task 
< 
List 
< 
IlDto 
> 
> 
GetAllAsync %
(% &
)& '
;' (
Task 
< 
IlDto 
> 
GetByIdAsync  
(  !
int! $
id% '
)' (
;( )
Task		 
<		 
IlDto		 
>		 
CreateAsync		 
(		  
IlDto		  %
dto		& )
)		) *
;		* +
Task

 
<

 
IlDto

 
>

 
UpdateAsync

 
(

  
int

  #
id

$ &
,

& '
IlDto

( -
dto

. 1
)

1 2
;

2 3
Task 
< 
IlDto 
> 
DeleteAsync 
(  
int  #
id$ &
)& '
;' (
} 
} ‡	
_C:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Interfaces\IIlceServices.cs
	namespace 	
tasinmazYonetimi
 
. 
Services #
.# $

Interfaces$ .
{ 
public 

	interface 
IIlceServices "
{ 
Task 
< 
List 
< 
IlceDto 
> 
> 
GetAllAsync '
(' (
)( )
;) *
Task 
< 
IlceDto 
? 
> 
GetByIdAsync #
(# $
int$ '
id( *
)* +
;+ ,
Task		 
CreateAsync		 
(		 
IlceDto		  
dto		! $
)		$ %
;		% &
Task

 
<

 
IlceDto

 
>

 
UpdateAsync

 !
(

! "
int

" %
id

& (
,

( )
IlceDto

* 1
dto

2 5
)

5 6
;

6 7
Task 
< 
IlceDto 
> 
DeleteAsync !
(! "
int" %
id& (
)( )
;) *
} 
} »
WC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Dtos\TasinmazDto.cs
	namespace 	
tasinmazYonetimi
 
. 
Dtos 
{ 
public 

class 
TasinmazDto 
{ 
public 
int 

tasinmazId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
adaa 
{ 
get  
;  !
set" %
;% &
}' (
public		 
string		 
parsel		 
{		 
get		 "
;		" #
set		$ '
;		' (
}		) *
public

 
string

 
nitelik

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 
string 
adres 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
	mahalleId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
	koordinat 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
	mahalleAd 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
ilAd 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
ilceAd 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
kullaniciId 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} Ò
VC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Dtos\MahalleDto.cs
	namespace 	
tasinmazYonetimi
 
. 
Dtos 
{ 
public 

class 

MahalleDto 
{ 
public 
int 
	mahalleId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
	mahalleAd 
{  !
get" %
;% &
set' *
;* +
}, -
public 
int 
ilceId 
{ 
get 
;  
set! $
;$ %
}& '
} 
}		 “
TC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Dtos\LoginDto.cs
	namespace 	
tasinmazYonetimi
 
. 
Dtos 
{ 
public 

class 
LoginDto 
{ 
public 
string 
eMail 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
parola 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} „

RC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Dtos\LogDto.cs
	namespace 	
tasinmazYonetimi
 
. 
Dtos 
{ 
public 

class 
LogDto 
{ 
public 
int 
logId 
{ 
get 
; 
set  #
;# $
}% &
public 
int 
? 
kullaniciId 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
durum 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
	islemTipi 
{  !
get" %
;% &
set' *
;* +
}, -
public		 
DateTime		 
	tarihSaat		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
public

 
string

 
ip

 
{

 
get

 
;

 
set

  #
;

# $
}

% &
public 
string 
aciklama 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ø
XC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Dtos\KullaniciDto.cs
	namespace 	
tasinmazYonetimi
 
. 
Dtos 
{ 
public 

class 
KullaniciDto 
{ 
public 
int 
kullaniciId 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
kullaniciAd !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
kullaniciSoyad $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
eMail 
{ 
get !
;! "
set# &
;& '
}( )
public		 
string		 
?		 
parola		 
{		 
get		  #
;		# $
set		% (
;		( )
}		* +
public

 
string

 
rol

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
string 
adres 
{ 
get !
;! "
set# &
;& '
}( )
public 
DateTime 
eklenmeTarihi %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DateTime 
guncellemeTarihi (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
} 
} ∆
QC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Dtos\IlDto.cs
	namespace 	
tasinmazYonetimi
 
. 
Dtos 
{ 
public 

class 
IlDto 
{ 
public 
int 
ilId 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
ilAd 
{ 
get  
;  !
set" %
;% &
}' (
} 
} „
SC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Dtos\IlceDto.cs
	namespace 	
tasinmazYonetimi
 
. 
Dtos 
{ 
public 

class 
IlceDto 
{ 
public 
int 
ilceId 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
ilceAd 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
ilId 
{ 
get 
; 
set "
;" #
}$ %
} 
}		 ≤
XC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Data\AppDbContext.cs
	namespace 	
tasinmazYonetimi
 
. 
Data 
{ 
public 

class 
AppDbContext 
: 
	DbContext '
{ 
public 
AppDbContext 
( 
DbContextOptions ,
<, -
AppDbContext- 9
>9 :
options; B
)B C
:D E
baseF J
(J K
optionsK R
)R S
{T U
}V W
public 
DbSet 
< 
Il 
> 
Il 
{ 
get !
;! "
set# &
;& '
}( )
public		 
DbSet		 
<		 
Ilce		 
>		 
Ilce		 
{		  !
get		" %
;		% &
set		' *
;		* +
}		, -
public

 
DbSet

 
<

 
Mahalle

 
>

 
Mahalle

 %
{

& '
get

( +
;

+ ,
set

- 0
;

0 1
}

2 3
public 
DbSet 
< 
	Kullanici 
> 
	Kullanici  )
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
DbSet 
< 
Tasinmaz 
> 
Tasinmaz '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
DbSet 
< 
Log 
> 
Log 
{ 
get  #
;# $
set% (
;( )
}* +
}]] 
}^^ ”
lC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Controllers\WeatherForecastController.cs
	namespace 	
tasinmazYonetimi
 
. 
Controllers &
{ 
[ 
ApiController 
] 
[		 
Route		 

(		
 
$str		 
)		 
]		 
public

 

class

 
HomeController

 
:

  !

Controller

" ,
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
HomeController 
( 
AppDbContext *
context+ 2
)2 3
{ 	
_context 
= 
context 
; 
} 	
} 
} öC
eC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Controllers\TasinmazController.cs
	namespace 	
tasinmazYonetimi
 
. 
Controllers &
{ 
[ 
ApiController 
] 
[		 
Route		 

(		
 
$str		 
)		 
]		 
public

 

class

 
TasinmazController

 #
:

$ %
ControllerBase

& 4
{ 
private 
readonly 
ITasinmazService )
_tasinmazServices* ;
;; <
public 
TasinmazController !
(! "
ITasinmazService" 2
tasinmazService3 B
)B C
{ 	
_tasinmazServices 
= 
tasinmazService  /
;/ 0
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
try 
{ 
var 
result 
= 
await "
_tasinmazServices# 4
.4 5
GetAllAsync5 @
(@ A
)A B
;B C
return 
Ok 
( 
result  
)  !
;! "
} 
catch 
( 
	Exception 
ex 
)  
{ 
return 

StatusCode !
(! "
$num" %
,% &
new' *
{+ ,
error- 2
=3 4
$"5 7
$str7 D
{D E
exE G
.G H
MessageH O
}O P
"P Q
}R S
)S T
;T U
} 
} 	
[!! 	
HttpGet!!	 
(!! 
$str!! 
)!! 
]!! 
public"" 
async"" 
Task"" 
<"" 
IActionResult"" '
>""' (
GetById"") 0
(""0 1
int""1 4
id""5 7
)""7 8
{## 	
try$$ 
{%% 
var&& 
result&& 
=&& 
await&& "
_tasinmazServices&&# 4
.&&4 5
GetByIdAsync&&5 A
(&&A B
id&&B D
)&&D E
;&&E F
if'' 
('' 
result'' 
=='' 
null'' "
)''" #
return''$ *
NotFound''+ 3
(''3 4
)''4 5
;''5 6
return(( 
Ok(( 
((( 
result((  
)((  !
;((! "
})) 
catch** 
(** 
	Exception** 
ex** 
)**  
{++ 
return,, 

StatusCode,, !
(,,! "
$num,," %
,,,% &
new,,' *
{,,+ ,
error,,- 2
=,,3 4
$",,5 7
$str,,7 D
{,,D E
ex,,E G
.,,G H
Message,,H O
},,O P
",,P Q
},,R S
),,S T
;,,T U
}-- 
}.. 	
[00 	
HttpPost00	 
]00 
public11 
async11 
Task11 
<11 
IActionResult11 '
>11' (
Add11) ,
(11, -
[11- .
FromBody11. 6
]116 7
TasinmazDto118 C
dto11D G
)11G H
{22 	
try33 
{44 
var55 
created55 
=55 
await55 #
_tasinmazServices55$ 5
.555 6
AddAsync556 >
(55> ?
dto55? B
)55B C
;55C D
return66 
Ok66 
(66 
new66 
{66 
message66  '
=66( )
$str66* G
}66H I
)66I J
;66J K
}88 
catch99 
(99 
	Exception99 
ex99 
)99  
{:: 
return;; 

StatusCode;; !
(;;! "
$num;;" %
,;;% &
new;;' *
{;;+ ,
error;;- 2
=;;3 4
$";;5 7
$str;;7 D
{;;D E
ex;;E G
.;;G H
Message;;H O
};;O P
";;P Q
};;R S
);;S T
;;;T U
}<< 
}== 	
[?? 	
HttpPut??	 
(?? 
$str?? 
)?? 
]?? 
public@@ 
async@@ 
Task@@ 
<@@ 
IActionResult@@ '
>@@' (
Update@@) /
(@@/ 0
int@@0 3
id@@4 6
,@@6 7
[@@8 9
FromBody@@9 A
]@@A B
TasinmazDto@@C N
dto@@O R
)@@R S
{AA 	
tryBB 
{CC 
varDD 
updatedDD 
=DD 
awaitDD #
_tasinmazServicesDD$ 5
.DD5 6
UpdateAsyncDD6 A
(DDA B
idDDB D
,DDD E
dtoDDF I
)DDI J
;DDJ K
ifEE 
(EE 
updatedEE 
==EE 
nullEE #
)EE# $
returnEE% +
NotFoundEE, 4
(EE4 5
)EE5 6
;EE6 7
returnGG 
OkGG 
(GG 
$strGG :
)GG: ;
;GG; <
}II 
catchJJ 
(JJ 
	ExceptionJJ 
exJJ 
)JJ  
{KK 
returnLL 

StatusCodeLL !
(LL! "
$numLL" %
,LL% &
newLL' *
{LL+ ,
errorLL- 2
=LL3 4
$"LL5 7
$strLL7 D
{LLD E
exLLE G
.LLG H
MessageLLH O
}LLO P
"LLP Q
}LLR S
)LLS T
;LLT U
}MM 
}NN 	
[PP 	

HttpDeletePP	 
(PP 
$strPP 
)PP 
]PP 
publicQQ 
asyncQQ 
TaskQQ 
<QQ 
IActionResultQQ '
>QQ' (
DeleteQQ) /
(QQ/ 0
intQQ0 3
idQQ4 6
,QQ6 7
[QQ8 9
FromBodyQQ9 A
]QQA B
TasinmazDtoQQC N
dtoQQO R
)QQR S
{RR 	
trySS 
{TT 
varUU 
silinenTasinmazUU #
=UU$ %
awaitUU& +
_tasinmazServicesUU, =
.UU= >
DeleteAsyncUU> I
(UUI J
idUUJ L
,UUL M
dtoUUN Q
)UUQ R
;UUR S
ifVV 
(VV 
silinenTasinmazVV #
==VV$ &
nullVV' +
)VV+ ,
returnWW 
NotFoundWW #
(WW# $
)WW$ %
;WW% &
returnYY 
OkYY 
(YY 
newYY 
{YY 
messageYY  '
=YY( )
$strYY* B
,YYB C
dataYYD H
=YYI J
silinenTasinmazYYK Z
}YY[ \
)YY\ ]
;YY] ^
}ZZ 
catch[[ 
([[ 
	Exception[[ 
ex[[ 
)[[  
{\\ 
return]] 

StatusCode]] !
(]]! "
$num]]" %
,]]% &
new]]' *
{]]+ ,
error]]- 2
=]]3 4
$"]]5 7
$str]]7 D
{]]D E
ex]]E G
.]]G H
Message]]H O
}]]O P
"]]P Q
}]]R S
)]]S T
;]]T U
}^^ 
}__ 	
[aa 	
HttpGetaa	 
(aa 
$straa 
)aa 
]aa 
publicbb 
asyncbb 
Taskbb 
<bb 
IActionResultbb '
>bb' ("
GetPagedTasinmazlarlarbb) ?
(bb? @
intbb@ C
pagebbD H
=bbI J
$numbbK L
,bbL M
intbbN Q
pageSizebbR Z
=bb[ \
$numbb] _
)bb_ `
{cc 	
vardd 
(dd 
datadd 
,dd 

totalCountdd !
)dd! "
=dd# $
awaitdd% *
_tasinmazServicesdd+ <
.dd< =$
GetPagedTasinmazlarAsyncdd= U
(ddU V
pageddV Z
,ddZ [
pageSizedd\ d
)ddd e
;dde f
returnff 
Okff 
(ff 
newff 
{gg 

totalCounthh 
,hh 
pageii 
,ii 
pageSizejj 
,jj 
datakk 
}ll 
)ll 
;ll 
}mm 	
}oo 
}pp ﬂ;
dC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Controllers\MahalleController.cs
	namespace 	
tasinmazYonetimi
 
. 
Controllers &
{ 
[ 
Route 

(
 
$str 
) 
] 
[		 
ApiController		 
]		 
public

 

class

 
MahalleController

 "
:

# $
ControllerBase

% 3
{ 
private 
readonly 
IMahalleServices )
_mahalleServices* :
;: ;
public 
MahalleController  
(  !
IMahalleServices! 1
service2 9
)9 :
{ 	
_mahalleServices 
= 
service &
;& '
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
try 
{ 
var 

mahalleler 
=  
await! &
_mahalleServices' 7
.7 8
GetAllAsync8 C
(C D
)D E
;E F
return 
Ok 
( 

mahalleler $
)$ %
;% &
} 
catch 
( 
	Exception 
ex 
)  
{ 
return 

StatusCode !
(! "
$num" %
,% &
$"' )
$str) :
{: ;
ex; =
.= >
Message> E
}E F
"F G
)G H
;H I
} 
} 	
[!! 	
HttpGet!!	 
(!! 
$str!! 
)!! 
]!! 
public"" 
async"" 
Task"" 
<"" 
IActionResult"" '
>""' (
GetById"") 0
(""0 1
int""1 4
id""5 7
)""7 8
{## 	
try$$ 
{%% 
var&& 
mahalle&& 
=&& 
await&& #
_mahalleServices&&$ 4
.&&4 5
GetByIdAsync&&5 A
(&&A B
id&&B D
)&&D E
;&&E F
if'' 
('' 
mahalle'' 
=='' 
null'' #
)''# $
return''% +
NotFound'', 4
(''4 5
)''5 6
;''6 7
return(( 
Ok(( 
((( 
mahalle(( !
)((! "
;((" #
})) 
catch** 
(** 
	Exception** 
ex** 
)**  
{++ 
return,, 

StatusCode,, !
(,,! "
$num,," %
,,,% &
$",,' )
$str,,) :
{,,: ;
ex,,; =
.,,= >
Message,,> E
},,E F
",,F G
),,G H
;,,H I
}-- 
}.. 	
[00 	
HttpPost00	 
]00 
public11 
async11 
Task11 
<11 
IActionResult11 '
>11' (
Create11) /
(11/ 0
[110 1
FromBody111 9
]119 :

MahalleDto11; E
dto11F I
)11I J
{22 	
try33 
{44 
var55 
olusanMahalle55 !
=55" #
await55$ )
_mahalleServices55* :
.55: ;
CreateAsync55; F
(55F G
dto55G J
)55J K
;55K L
return66 
Ok66 
(66 
new66 
{77 
message88 
=88 
$str88 :
,88: ;
data99 
=99 
olusanMahalle99 (
}:: 
):: 
;:: 
};; 
catch<< 
(<< 
	Exception<< 
ex<< 
)<<  
{== 
return>> 

StatusCode>> !
(>>! "
$num>>" %
,>>% &
new>>' *
{?? 
message@@ 
=@@ 
$"@@  
$str@@  4
{@@4 5
ex@@5 7
.@@7 8
Message@@8 ?
}@@? @
"@@@ A
}AA 
)AA 
;AA 
}BB 
}CC 	
[HH 	
HttpPutHH	 
(HH 
$strHH 
)HH 
]HH 
publicII 
asyncII 
TaskII 
<II 
IActionResultII '
>II' (
UpdateII) /
(II/ 0
intII0 3
idII4 6
,II6 7
[II8 9
FromBodyII9 A
]IIA B

MahalleDtoIIC M
dtoIIN Q
)IIQ R
{JJ 	
tryKK 
{LL 
varMM 
guncellenenMahalleMM &
=MM' (
awaitMM) .
_mahalleServicesMM/ ?
.MM? @
UpdateAsyncMM@ K
(MMK L
idMML N
,MMN O
dtoMMP S
)MMS T
;MMT U
ifNN 
(NN 
guncellenenMahalleNN &
==NN' )
nullNN* .
)NN. /
returnOO 
NotFoundOO #
(OO# $
$"OO$ &
$strOO& 0
{OO0 1
idOO1 3
}OO3 4
$strOO4 M
"OOM N
)OON O
;OOO P
returnQQ 
OkQQ 
(QQ 
newQQ 
{RR 
messageSS 
=SS 
$strSS >
,SS> ?
dataTT 
=TT 
guncellenenMahalleTT -
}UU 
)UU 
;UU 
}VV 
catchWW 
(WW 
	ExceptionWW 
exWW 
)WW  
{XX 
returnYY 

StatusCodeYY !
(YY! "
$numYY" %
,YY% &
newYY' *
{ZZ 
message[[ 
=[[ 
$str[[ 0
,[[0 1
error\\ 
=\\ 
ex\\ 
.\\ 
Message\\ &
}]] 
)]] 
;]] 
}^^ 
}__ 	
[bb 	

HttpDeletebb	 
(bb 
$strbb 
)bb 
]bb 
publiccc 
asynccc 
Taskcc 
<cc 
IActionResultcc '
>cc' (
Deletecc) /
(cc/ 0
intcc0 3
idcc4 6
)cc6 7
{dd 	
tryee 
{ff 
vargg 
silinenMahallegg "
=gg# $
awaitgg% *
_mahalleServicesgg+ ;
.gg; <
DeleteAsyncgg< G
(ggG H
idggH J
)ggJ K
;ggK L
ifhh 
(hh 
silinenMahallehh "
==hh# %
nullhh& *
)hh* +
returnii 
NotFoundii #
(ii# $
$"ii$ &
$strii& 0
{ii0 1
idii1 3
}ii3 4
$strii4 M
"iiM N
)iiN O
;iiO P
returnkk 
Okkk 
(kk 
newkk 
{ll 
messagemm 
=mm 
$strmm :
,mm: ;
datann 
=nn 
silinenMahallenn )
}oo 
)oo 
;oo 
}pp 
catchqq 
(qq 
	Exceptionqq 
exqq 
)qq  
{rr 
returnss 

StatusCodess !
(ss! "
$numss" %
,ss% &
$"ss' )
$strss) :
{ss: ;
exss; =
.ss= >
Messagess> E
}ssE F
"ssF G
)ssG H
;ssH I
}tt 
}uu 	
}ww 
}xx ß
bC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Controllers\LoginController.cs
	namespace

 	
tasinmazYonetimi


 
.

 
Controllers

 &
{ 
[ 
ApiController 
] 
[ 
Route 

(
 
$str 
) 
] 
public 

class 
LoginController  
:! "
ControllerBase# 1
{ 
private 
readonly 
ILoginService &
_loginServices' 5
;5 6
public 
LoginController 
( 
ILoginService ,
loginService- 9
)9 :
{ 	
_loginServices 
= 
loginService )
;) *
} 	
[ 	
HttpPost	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Login) .
(. /
[/ 0
FromBody0 8
]8 9
LoginDto: B
dtoC F
)F G
{ 	
try 
{ 
var 
	kullanici 
= 
await  %
_loginServices& 4
.4 5

LoginAsync5 ?
(? @
dto@ C
)C D
;D E
if 
( 
	kullanici 
==  
null! %
)% &
{ 
return 
Unauthorized '
(' (
new( +
{, -
error. 3
=4 5
$str6 S
}T U
)U V
;V W
} 
return!! 
Ok!! 
(!! 
new!! 
{"" 
mesaj## 
=## 
$str## /
,##/ 0
eMail$$ 
=$$ 
	kullanici$$ %
.$$% &
eMail$$& +
,$$+ ,
kullaniciId%% 
=%%  !
	kullanici%%" +
.%%+ ,
kullaniciId%%, 7
,%%7 8
rol&& 
=&& 
	kullanici&& #
.&&# $
rol&&$ '
}'' 
)'' 
;'' 
}(( 
catch)) 
()) 
System)) 
.)) 
	Exception)) #
ex))$ &
)))& '
{** 
return++ 

StatusCode++ !
(++! "
$num++" %
,++% &
new++' *
{+++ ,
error++- 2
=++3 4
$str++5 F
+++G H
ex++I K
.++K L
Message++L S
}++T U
)++U V
;++V W
},, 
}-- 	
}.. 
}// ‰4
`C:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Controllers\LogController.cs
	namespace 	
tasinmazYonetimi
 
. 
Controllers &
{ 
[ 
Route 

(
 
$str 
) 
] 
[		 
ApiController		 
]		 
public

 

class

 
LogController

 
:

  
ControllerBase

! /
{ 
private 
readonly 
ILogServices %
_logServices& 2
;2 3
public 
LogController 
( 
ILogServices )
logServices* 5
)5 6
{ 	
_logServices 
= 
logServices &
;& '
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
try 
{ 
var 
logs 
= 
await  
_logServices! -
.- .
GetAllAsync. 9
(9 :
): ;
;; <
return 
Ok 
( 
logs 
) 
;  
} 
catch 
( 
	Exception 
ex 
)  
{ 
return 

StatusCode !
(! "
$num" %
,% &
$"' )
$str) :
{: ;
ex; =
.= >
Message> E
}E F
"F G
)G H
;H I
} 
} 	
[!! 	
HttpGet!!	 
(!! 
$str!! 
)!! 
]!! 
public"" 
async"" 
Task"" 
<"" 
IActionResult"" '
>""' (
GetById"") 0
(""0 1
int""1 4
id""5 7
)""7 8
{## 	
try$$ 
{%% 
var&& 
log&& 
=&& 
await&& 
_logServices&&  ,
.&&, -
GetByIdAsync&&- 9
(&&9 :
id&&: <
)&&< =
;&&= >
if'' 
('' 
log'' 
=='' 
null'' 
)''  
return''! '
NotFound''( 0
(''0 1
)''1 2
;''2 3
return(( 
Ok(( 
((( 
log(( 
)(( 
;(( 
})) 
catch** 
(** 
	Exception** 
ex** 
)**  
{++ 
return,, 

StatusCode,, !
(,,! "
$num,," %
,,,% &
$",,' )
$str,,) :
{,,: ;
ex,,; =
.,,= >
Message,,> E
},,E F
",,F G
),,G H
;,,H I
}-- 
}.. 	
[00 	
HttpPost00	 
]00 
public11 
async11 
Task11 
<11 
IActionResult11 '
>11' (
Create11) /
(11/ 0
[110 1
FromBody111 9
]119 :
LogDto11; A
dto11B E
)11E F
{22 	
try33 
{44 
var55 
	olusanLog55 
=55 
await55  %
_logServices55& 2
.552 3
CreateAsync553 >
(55> ?
dto55? B
)55B C
;55C D
return66 
Ok66 
(66 
new66 
{77 
message88 
=88 
$str88 :
,88: ;
data99 
=99 
	olusanLog99 $
}:: 
):: 
;:: 
};; 
catch<< 
(<< 
	Exception<< 
ex<< 
)<<  
{== 
return>> 

StatusCode>> !
(>>! "
$num>>" %
,>>% &
$">>' )
$str>>) :
{>>: ;
ex>>; =
.>>= >
Message>>> E
}>>E F
">>F G
)>>G H
;>>H I
}?? 
}@@ 	
[CC 	

HttpDeleteCC	 
(CC 
$strCC 
)CC 
]CC 
publicDD 
asyncDD 
TaskDD 
<DD 
IActionResultDD '
>DD' (
DeleteDD) /
(DD/ 0
intDD0 3
idDD4 6
)DD6 7
{EE 	
tryFF 
{GG 
varHH 

silinenLogHH 
=HH  
awaitHH! &
_logServicesHH' 3
.HH3 4
DeleteAsyncHH4 ?
(HH? @
idHH@ B
)HHB C
;HHC D
ifII 
(II 

silinenLogII 
==II !
nullII" &
)II& '
returnJJ 
NotFoundJJ #
(JJ# $
$"JJ$ &
$strJJ& 0
{JJ0 1
idJJ1 3
}JJ3 4
$strJJ4 I
"JJI J
)JJJ K
;JJK L
returnLL 
OkLL 
(LL 
newLL 
{MM 
messageNN 
=NN 
$strNN 6
,NN6 7
dataOO 
=OO 

silinenLogOO %
}PP 
)PP 
;PP 
}QQ 
catchRR 
(RR 
	ExceptionRR 
exRR 
)RR  
{SS 
returnTT 

StatusCodeTT !
(TT! "
$numTT" %
,TT% &
$"TT' )
$strTT) :
{TT: ;
exTT; =
.TT= >
MessageTT> E
}TTE F
"TTF G
)TTG H
;TTH I
}UU 
}VV 	
[YY 	
HttpGetYY	 
(YY 
$strYY 
)YY 
]YY 
publicZZ 
asyncZZ 
TaskZZ 
<ZZ 
IActionResultZZ '
>ZZ' (
GetPagedLogsZZ) 5
(ZZ5 6
intZZ6 9
pageZZ: >
=ZZ? @
$numZZA B
,ZZB C
intZZD G
pageSizeZZH P
=ZZQ R
$numZZS U
)ZZU V
{[[ 	
var\\ 
(\\ 
data\\ 
,\\ 

totalCount\\ !
)\\! "
=\\# $
await\\% *
_logServices\\+ 7
.\\7 8
GetPagedLogsAsync\\8 I
(\\I J
page\\J N
,\\N O
pageSize\\P X
)\\X Y
;\\Y Z
return^^ 
Ok^^ 
(^^ 
new^^ 
{__ 

totalCount`` 
,`` 
pageaa 
,aa 
pageSizebb 
,bb 
datacc 
}dd 
)dd 
;dd 
}ee 	
}hh 
}ii ƒP
fC:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Controllers\KullaniciController.cs
	namespace 	
tasinmazYonetimi
 
. 
Controllers &
{		 
[

 
Route

 

(


 
$str

 
)

 
]

 
[ 
ApiController 
] 
public 

class 
KullaniciController $
:% &
ControllerBase' 5
{ 
private 
readonly 
IKullaniciServices +
_kullaniciServices, >
;> ?
public 
KullaniciController "
(" #
IKullaniciServices# 5
kullaniciService6 F
)F G
{ 	
_kullaniciServices 
=  
kullaniciService! 1
;1 2
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
try 
{ 
var 
kullanicilar  
=! "
await# (
_kullaniciServices) ;
.; <
GetAllAsync< G
(G H
)H I
;I J
return 
Ok 
( 
kullanicilar &
)& '
;' (
} 
catch 
( 
	Exception 
ex 
)  
{ 
return 

StatusCode !
(! "
$num" %
,% &
$"' )
$str) :
{: ;
ex; =
.= >
Message> E
}E F
"F G
)G H
;H I
}   
}!! 	
[## 	
HttpGet##	 
(## 
$str## 
)## 
]## 
public$$ 
async$$ 
Task$$ 
<$$ 
IActionResult$$ '
>$$' (
GetById$$) 0
($$0 1
int$$1 4
id$$5 7
)$$7 8
{%% 	
try&& 
{'' 
var(( 
	kullanici(( 
=(( 
await((  %
_kullaniciServices((& 8
.((8 9
GetByIdAsync((9 E
(((E F
id((F H
)((H I
;((I J
if)) 
()) 
	kullanici)) 
==))  
null))! %
)))% &
return))' -
NotFound)). 6
())6 7
)))7 8
;))8 9
return** 
Ok** 
(** 
	kullanici** #
)**# $
;**$ %
}++ 
catch,, 
(,, 
	Exception,, 
ex,, 
),,  
{-- 
return.. 

StatusCode.. !
(..! "
$num.." %
,..% &
$"..' )
$str..) :
{..: ;
ex..; =
...= >
Message..> E
}..E F
"..F G
)..G H
;..H I
}// 
}00 	
[22 	
HttpPost22	 
]22 
public33 
async33 
Task33 
<33 
IActionResult33 '
>33' (
Create33) /
(33/ 0
[330 1
FromBody331 9
]339 :
KullaniciDto33; G
dto33H K
)33K L
{44 	
if55 
(55 
string55 
.55 
IsNullOrWhiteSpace55 )
(55) *
dto55* -
.55- .
eMail55. 3
)553 4
||555 7
!66 
Regex66 
.66 
IsMatch66 
(66 
dto66 "
.66" #
eMail66# (
,66( )
$str66* G
)66G H
)66H I
{77 
return88 

BadRequest88 !
(88! "
new88" %
{88& '
error88( -
=88. /
$str880 U
}88V W
)88W X
;88X Y
}99 
if;; 
(;; 
string;; 
.;; 
IsNullOrWhiteSpace;; )
(;;) *
dto;;* -
.;;- .
parola;;. 4
);;4 5
||;;6 8
dto;;9 <
.;;< =
parola;;= C
.;;C D
Length;;D J
<;;K L
$num;;M N
||;;O Q
!;;R S
Regex;;S X
.;;X Y
IsMatch;;Y `
(;;` a
dto;;a d
.;;d e
parola;;e k
,;;k l
$str;;m r
);;r s
);;s t
{<< 
return== 

BadRequest== !
(==! "
new==" %
{==& '
error==( -
===. /
$str==0 r
}==s t
)==t u
;==u v
}>> 
try@@ 
{AA 
varBB 
olusanKullaniciBB #
=BB$ %
awaitBB& +
_kullaniciServicesBB, >
.BB> ?
CreateAsyncBB? J
(BBJ K
dtoBBK N
)BBN O
;BBO P
returnCC 
OkCC 
(CC 
newCC 
{DD 
messageEE 
=EE 
$strEE @
,EE@ A
dataFF 
=FF 
olusanKullaniciFF *
}GG 
)GG 
;GG 
}HH 
catchII 
(II 
	ExceptionII 
exII 
)II  
{JJ 
returnKK 

StatusCodeKK !
(KK! "
$numKK" %
,KK% &
newKK' *
{KK+ ,
errorKK- 2
=KK3 4
$"KK5 7
$strKK7 H
{KKH I
exKKI K
.KKK L
MessageKKL S
}KKS T
"KKT U
}KKV W
)KKW X
;KKX Y
}LL 
}MM 	
[OO 	
HttpPutOO	 
(OO 
$strOO 
)OO 
]OO 
publicPP 
asyncPP 
TaskPP 
<PP 
IActionResultPP '
>PP' (
UpdatePP) /
(PP/ 0
intPP0 3
idPP4 6
,PP6 7
[PP8 9
FromBodyPP9 A
]PPA B
KullaniciDtoPPC O
dtoPPP S
)PPS T
{QQ 	
tryRR 
{SS 
varTT  
guncellenenKullaniciTT (
=TT) *
awaitTT+ 0
_kullaniciServicesTT1 C
.TTC D
UpdateAsyncTTD O
(TTO P
idTTP R
,TTR S
dtoTTT W
)TTW X
;TTX Y
ifUU 
(UU  
guncellenenKullaniciUU (
==UU) +
nullUU, 0
)UU0 1
returnVV 
NotFoundVV #
(VV# $
$"VV$ &
$strVV& 0
{VV0 1
idVV1 3
}VV3 4
$strVV4 O
"VVO P
)VVP Q
;VVQ R
returnXX 
OkXX 
(XX 
newXX 
{YY 
messageZZ 
=ZZ 
$strZZ @
,ZZ@ A
data[[ 
=[[  
guncellenenKullanici[[ /
}\\ 
)\\ 
;\\ 
}]] 
catch^^ 
(^^ 
	Exception^^ 
ex^^ 
)^^  
{__ 
return`` 

StatusCode`` !
(``! "
$num``" %
,``% &
new``' *
{aa 
messagebb 
=bb 
$strbb 0
,bb0 1
errorcc 
=cc 
excc 
.cc 
Messagecc &
}dd 
)dd 
;dd 
}ee 
}ff 	
[ii 	

HttpDeleteii	 
(ii 
$strii 
)ii 
]ii 
publicjj 
asyncjj 
Taskjj 
<jj 
IActionResultjj '
>jj' (
Deletejj) /
(jj/ 0
intjj0 3
idjj4 6
,jj6 7
[jj8 9
FromBodyjj9 A
]jjA B
KullaniciDtojjC O
dtojjP S
)jjS T
{kk 	
tryll 
{mm 
varnn 
silinenKullanicinn $
=nn% &
awaitnn' ,
_kullaniciServicesnn- ?
.nn? @
DeleteAsyncnn@ K
(nnK L
idnnL N
,nnN O
dtonnP S
)nnS T
;nnT U
ifoo 
(oo 
silinenKullanicioo $
==oo% '
nulloo( ,
)oo, -
returnpp 
NotFoundpp #
(pp# $
newpp$ '
{pp( )
errorpp* /
=pp0 1
$strpp2 I
}ppJ K
)ppK L
;ppL M
returnrr 
Okrr 
(rr 
newrr 
{ss 
messagett 
=tt 
$strtt <
,tt< =
datauu 
=uu 
silinenKullaniciuu +
}vv 
)vv 
;vv 
}ww 
catchxx 
(xx 
	Exceptionxx 
)xx 
{yy 
returnzz 

StatusCodezz !
(zz! "
$numzz" %
,zz% &
newzz' *
{zz+ ,
errorzz- 2
=zz3 4
$strzz5 S
}zzT U
)zzU V
;zzV W
}{{ 
}|| 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public
ÄÄ 
async
ÄÄ 
Task
ÄÄ 
<
ÄÄ 
IActionResult
ÄÄ '
>
ÄÄ' ("
GetPagedKullanicilar
ÄÄ) =
(
ÄÄ= >
int
ÄÄ> A
page
ÄÄB F
=
ÄÄG H
$num
ÄÄI J
,
ÄÄJ K
int
ÄÄL O
pageSize
ÄÄP X
=
ÄÄY Z
$num
ÄÄ[ ]
)
ÄÄ] ^
{
ÅÅ 	
var
ÇÇ 
(
ÇÇ 
data
ÇÇ 
,
ÇÇ 

totalCount
ÇÇ !
)
ÇÇ! "
=
ÇÇ# $
await
ÇÇ% * 
_kullaniciServices
ÇÇ+ =
.
ÇÇ= >'
GetPagedKullanicilarAsync
ÇÇ> W
(
ÇÇW X
page
ÇÇX \
,
ÇÇ\ ]
pageSize
ÇÇ^ f
)
ÇÇf g
;
ÇÇg h
return
ÑÑ 
Ok
ÑÑ 
(
ÑÑ 
new
ÑÑ 
{
ÖÖ 

totalCount
ÜÜ 
,
ÜÜ 
page
áá 
,
áá 
pageSize
àà 
,
àà 
data
ââ 
}
ää 
)
ää 
;
ää 
}
ãã 	
}
éé 
}èè Ê8
_C:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Controllers\IlController.cs
	namespace 	
tasinmazYonetimi
 
. 
Controllers &
{ 
[ 
ApiController 
] 
[		 
Route		 

(		
 
$str		 
)		 
]		 
public

 

class

 
IlController

 
:

 
ControllerBase

  .
{ 
private 
readonly 

IIlService #
_ilServices$ /
;/ 0
public 
IlController 
( 

IIlService &
	ilService' 0
)0 1
{ 	
_ilServices 
= 
	ilService #
;# $
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
try 
{ 
var 
iller 
= 
await !
_ilServices" -
.- .
GetAllAsync. 9
(9 :
): ;
;; <
return 
Ok 
( 
iller 
)  
;  !
} 
catch 
( 
	Exception 
ex 
)  
{ 
return 

StatusCode !
(! "
$num" %
,% &
$"' )
$str) :
{: ;
ex; =
.= >
Message> E
}E F
"F G
)G H
;H I
} 
} 	
[!! 	
HttpGet!!	 
(!! 
$str!! 
)!! 
]!! 
public"" 
async"" 
Task"" 
<"" 
IActionResult"" '
>""' (
GetById"") 0
(""0 1
int""1 4
id""5 7
)""7 8
{## 	
try$$ 
{%% 
var&& 
il&& 
=&& 
await&& 
_ilServices&& *
.&&* +
GetByIdAsync&&+ 7
(&&7 8
id&&8 :
)&&: ;
;&&; <
if'' 
('' 
il'' 
=='' 
null'' 
)'' 
return(( 
NotFound(( #
(((# $
$"(($ &
$str((& 0
{((0 1
id((1 3
}((3 4
$str((4 H
"((H I
)((I J
;((J K
return** 
Ok** 
(** 
il** 
)** 
;** 
}++ 
catch,, 
(,, 
	Exception,, 
ex,, 
),,  
{-- 
return.. 

StatusCode.. !
(..! "
$num.." %
,..% &
$"..' )
$str..) :
{..: ;
ex..; =
...= >
Message..> E
}..E F
"..F G
)..G H
;..H I
}// 
}00 	
[22 	
HttpPost22	 
]22 
public33 
async33 
Task33 
<33 
IActionResult33 '
>33' (
Create33) /
(33/ 0
[330 1
FromBody331 9
]339 :
IlDto33; @
dto33A D
)33D E
{44 	
try55 
{66 
await77 
_ilServices77 !
.77! "
CreateAsync77" -
(77- .
dto77. 1
)771 2
;772 3
return88 
Ok88 
(88 
dto88 
)88 
;88 
}99 
catch:: 
(:: 
	Exception:: 
ex:: 
)::  
{;; 
return<< 

StatusCode<< !
(<<! "
$num<<" %
,<<% &
new<<' *
{<<+ ,
message<<- 4
=<<5 6
$"<<7 9
$str<<9 J
{<<J K
ex<<K M
.<<M N
Message<<N U
}<<U V
"<<V W
}<<X Y
)<<Y Z
;<<Z [
}== 
}>> 	
[CC 	
HttpPutCC	 
(CC 
$strCC 
)CC 
]CC 
publicDD 
asyncDD 
TaskDD 
<DD 
IActionResultDD '
>DD' (
UpdateDD) /
(DD/ 0
intDD0 3
idDD4 6
,DD6 7
[DD8 9
FromBodyDD9 A
]DDA B
IlDtoDDC H
dtoDDI L
)DDL M
{EE 	
tryFF 
{GG 
varHH 
guncellenenIlHH !
=HH" #
awaitHH$ )
_ilServicesHH* 5
.HH5 6
UpdateAsyncHH6 A
(HHA B
idHHB D
,HHD E
dtoHHF I
)HHI J
;HHJ K
ifII 
(II 
guncellenenIlII !
==II" $
nullII% )
)II) *
returnJJ 
NotFoundJJ #
(JJ# $
$"JJ$ &
$strJJ& 0
{JJ0 1
idJJ1 3
}JJ3 4
$strJJ4 H
"JJH I
)JJI J
;JJJ K
returnLL 
OkLL 
(LL 
guncellenenIlLL '
)LL' (
;LL( )
}MM 
catchNN 
(NN 
	ExceptionNN 
exNN 
)NN  
{OO 
returnPP 

StatusCodePP !
(PP! "
$numPP" %
,PP% &
$"PP' )
$strPP) :
{PP: ;
exPP; =
.PP= >
MessagePP> E
}PPE F
"PPF G
)PPG H
;PPH I
}QQ 
}RR 	
[TT 	

HttpDeleteTT	 
(TT 
$strTT 
)TT 
]TT 
publicUU 
asyncUU 
TaskUU 
<UU 
IActionResultUU '
>UU' (
DeleteUU) /
(UU/ 0
intUU0 3
idUU4 6
)UU6 7
{VV 	
tryWW 
{XX 
varYY 
	silinenIlYY 
=YY 
awaitYY  %
_ilServicesYY& 1
.YY1 2
DeleteAsyncYY2 =
(YY= >
idYY> @
)YY@ A
;YYA B
ifZZ 
(ZZ 
	silinenIlZZ 
==ZZ  
nullZZ! %
)ZZ% &
return[[ 
NotFound[[ #
([[# $
$"[[$ &
$str[[& 0
{[[0 1
id[[1 3
}[[3 4
$str[[4 H
"[[H I
)[[I J
;[[J K
return]] 
Ok]] 
(]] 
new]] 
{^^ 
message__ 
=__ 
$str__ 6
,__6 7
data`` 
=`` 
	silinenIl`` $
}aa 
)aa 
;aa 
}bb 
catchcc 
(cc 
	Exceptioncc 
excc 
)cc  
{dd 
returnee 

StatusCodeee !
(ee! "
$numee" %
,ee% &
newee' *
{ff 
messagegg 
=gg 
$strgg 0
,gg0 1
errorhh 
=hh 
exhh 
.hh 
Messagehh &
}ii 
)ii 
;ii 
}jj 
}kk 	
}mm 
}nn â:
_C:\Users\ASUS\OneDrive\Masa√ºst√º\tasinmazYonetimi\tasinmazYonetimi\Controllers\IlceControls.cs
	namespace 	
tasinmazYonetimi
 
. 
Controllers &
{ 
[ 
Route 

(
 
$str 
) 
] 
[		 
ApiController		 
]		 
public

 

class

 
IlceController

 
:

  !
ControllerBase

" 0
{ 
private 
readonly 
IIlceServices &
_ilceServices' 4
;4 5
public 
IlceController 
( 
IIlceServices +
ilceServices, 8
)8 9
{ 	
_ilceServices 
= 
ilceServices (
;( )
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
try 
{ 
var 
ilceler 
= 
await #
_ilceServices$ 1
.1 2
GetAllAsync2 =
(= >
)> ?
;? @
return 
Ok 
( 
ilceler !
)! "
;" #
} 
catch 
( 
	Exception 
ex 
)  
{ 
return 

StatusCode !
(! "
$num" %
,% &
$"' )
$str) :
{: ;
ex; =
.= >
Message> E
}E F
"F G
)G H
;H I
} 
} 	
[!! 	
HttpGet!!	 
(!! 
$str!! 
)!! 
]!! 
public"" 
async"" 
Task"" 
<"" 
IActionResult"" '
>""' (
GetById"") 0
(""0 1
int""1 4
id""5 7
)""7 8
{## 	
try$$ 
{%% 
var&& 
ilce&& 
=&& 
await&&  
_ilceServices&&! .
.&&. /
GetByIdAsync&&/ ;
(&&; <
id&&< >
)&&> ?
;&&? @
if'' 
('' 
ilce'' 
=='' 
null''  
)''  !
return''" (
NotFound'') 1
(''1 2
)''2 3
;''3 4
return(( 
Ok(( 
((( 
ilce(( 
)(( 
;((  
})) 
catch** 
(** 
	Exception** 
ex** 
)**  
{++ 
return,, 

StatusCode,, !
(,,! "
$num,," %
,,,% &
$",,' )
$str,,) :
{,,: ;
ex,,; =
.,,= >
Message,,> E
},,E F
",,F G
),,G H
;,,H I
}-- 
}.. 	
[00 	
HttpPost00	 
]00 
public11 
async11 
Task11 
<11 
IActionResult11 '
>11' (
Create11) /
(11/ 0
[110 1
FromBody111 9
]119 :
IlceDto11; B
dto11C F
)11F G
{22 	
try33 
{44 
await55 
_ilceServices55 #
.55# $
CreateAsync55$ /
(55/ 0
dto550 3
)553 4
;554 5
return66 
Ok66 
(66 
dto66 
)66 
;66 
}77 
catch88 
(88 
	Exception88 
ex88 
)88  
{99 
return:: 

StatusCode:: !
(::! "
$num::" %
,::% &
new::' *
{::+ ,
message::- 4
=::5 6
$"::7 9
$str::9 J
{::J K
ex::K M
.::M N
Message::N U
}::U V
"::V W
}::X Y
)::Y Z
;::Z [
};; 
}<< 	
[?? 	
HttpPut??	 
(?? 
$str?? 
)?? 
]?? 
public@@ 
async@@ 
Task@@ 
<@@ 
IActionResult@@ '
>@@' (
Update@@) /
(@@/ 0
int@@0 3
id@@4 6
,@@6 7
[@@8 9
FromBody@@9 A
]@@A B
IlceDto@@C J
dto@@K N
)@@N O
{AA 	
tryBB 
{CC 
varDD 
guncellenenIlceDD #
=DD$ %
awaitDD& +
_ilceServicesDD, 9
.DD9 :
UpdateAsyncDD: E
(DDE F
idDDF H
,DDH I
dtoDDJ M
)DDM N
;DDN O
ifEE 
(EE 
guncellenenIlceEE #
==EE$ &
nullEE' +
)EE+ ,
returnFF 
NotFoundFF #
(FF# $
$"FF$ &
$strFF& 0
{FF0 1
idFF1 3
}FF3 4
$strFF4 J
"FFJ K
)FFK L
;FFL M
returnHH 
OkHH 
(HH 
newHH 
{II 
messageJJ 
=JJ 
$strJJ 4
,JJ4 5
dataKK 
=KK 
guncellenenIlceKK *
}LL 
)LL 
;LL 
}MM 
catchNN 
(NN 
	ExceptionNN 
exNN 
)NN  
{OO 
returnPP 

StatusCodePP !
(PP! "
$numPP" %
,PP% &
newPP' *
{PP+ ,
messagePP- 4
=PP5 6
$strPP7 I
,PPI J
errorPPK P
=PPQ R
exPPS U
.PPU V
MessagePPV ]
}PP^ _
)PP_ `
;PP` a
}QQ 
}RR 	
[UU 	

HttpDeleteUU	 
(UU 
$strUU 
)UU 
]UU 
publicVV 
asyncVV 
TaskVV 
<VV 
IActionResultVV '
>VV' (
DeleteVV) /
(VV/ 0
intVV0 3
idVV4 6
)VV6 7
{WW 	
tryXX 
{YY 
varZZ 
silinenIlceZZ 
=ZZ  !
awaitZZ" '
_ilceServicesZZ( 5
.ZZ5 6
DeleteAsyncZZ6 A
(ZZA B
idZZB D
)ZZD E
;ZZE F
if[[ 
([[ 
silinenIlce[[ 
==[[  "
null[[# '
)[[' (
return\\ 
NotFound\\ #
(\\# $
$"\\$ &
$str\\& 0
{\\0 1
id\\1 3
}\\3 4
$str\\4 J
"\\J K
)\\K L
;\\L M
return^^ 
Ok^^ 
(^^ 
new^^ 
{__ 
message`` 
=`` 
$str`` 7
,``7 8
dataaa 
=aa 
silinenIlceaa &
}bb 
)bb 
;bb 
}cc 
catchdd 
(dd 
	Exceptiondd 
exdd 
)dd  
{ee 
returnff 

StatusCodeff !
(ff! "
$numff" %
,ff% &
newff' *
{gg 
messagehh 
=hh 
$strhh 0
,hh0 1
errorii 
=ii 
exii 
.ii 
Messageii &
}jj 
)jj 
;jj 
}kk 
}ll 	
}nn 
}oo 